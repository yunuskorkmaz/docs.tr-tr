---
title: Görüntü .NET hata ayıklamayı kolaylaştırma
description: Anahtarları IDE kullanarak daha kolay hata ayıklama için yürütülebilir bir imaj yapılandırmak ve komut satırı seçenekleri öğrenin.
ms.date: 08/30/2018
helpviewer_keywords:
- images [.NET Framework], debugging
- executable image for debugging
- debugging [.NET Framework], executable images for
ms.assetid: 7d90ea7a-150f-4f97-98a7-f9c26541b9a3
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 7f25eaaa17d4c4bd2e9522591bb0fd66445cdb6f
ms.sourcegitcommit: 8c2ece71e54f46aef9a2153540d0bda7e74b19a9
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/11/2018
ms.locfileid: "44354119"
---
# <a name="making-an-image-easier-to-debug-in-net"></a><span data-ttu-id="b349e-103">Görüntü .NET hata ayıklamayı kolaylaştırma</span><span class="sxs-lookup"><span data-stu-id="b349e-103">Making an image easier to debug in .NET</span></span>

<span data-ttu-id="b349e-104">Yönetilmeyen kod derlenirken ayar IDE anahtarlar veya komut satırı seçenekleri tarafından hata ayıklama için yürütülebilir bir imaj yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b349e-104">When compiling unmanaged code, you can configure an executable image for debugging by setting IDE switches or command-line options.</span></span> <span data-ttu-id="b349e-105">Örneğin, kullanabileceğiniz /**zı** Visual c++ komut satırı seçeneği hata ayıklama sembol dosyalarını (dosya uzantısı .pdb) yaymak için isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="b349e-105">For example, you can use the /**Zi** command-line option in Visual C++ to ask it to emit debug symbol files (file extension .pdb).</span></span> <span data-ttu-id="b349e-106">Benzer şekilde, /**Od** iyileştirme devre dışı bırakmak için derleyici komut satırı seçeneği bildirir.</span><span class="sxs-lookup"><span data-stu-id="b349e-106">Similarly, the /**Od** command-line option tells the compiler to disable optimization.</span></span> <span data-ttu-id="b349e-107">Elde edilen kod daha yavaş çalışır, ancak bu gerekli olmalıdır hata ayıklamak daha kolay olur.</span><span class="sxs-lookup"><span data-stu-id="b349e-107">The resulting code runs more slowly, but it's easier to debug, should this be necessary.</span></span>

<span data-ttu-id="b349e-108">.NET Framework derleme yönetilen kod, Visual C++, Visual Basic ve C# gibi derleyicileri, kaynak programın Microsoft Ara diline (MSIL) derleyin.</span><span class="sxs-lookup"><span data-stu-id="b349e-108">When compiling .NET Framework managed code, compilers such as Visual C++, Visual Basic, and C# compile their source program into Microsoft intermediate language (MSIL).</span></span> <span data-ttu-id="b349e-109">MSIL JIT olarak derlenmiş, yürütme, yerel makine koda hemen önce ise.</span><span class="sxs-lookup"><span data-stu-id="b349e-109">MSIL is then JIT-compiled, just before execution, into native machine code.</span></span> <span data-ttu-id="b349e-110">Olarak yönetilmeyen kod ile ayar IDE anahtarlar veya komut satırı seçenekleri tarafından hata ayıklama için yürütülebilir bir imaj yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b349e-110">As with unmanaged code, you can configure an executable image for debugging by setting IDE switches or command-line options.</span></span> <span data-ttu-id="b349e-111">Ayrıca, aynı şekilde çok hata ayıklama için JIT derleme yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b349e-111">You can also configure the JIT compilation for debugging in much the same way.</span></span>

<span data-ttu-id="b349e-112">JIT yapılandırmanın iki boyutu vardır:</span><span class="sxs-lookup"><span data-stu-id="b349e-112">This JIT configuration has two aspects:</span></span>

- <span data-ttu-id="b349e-113">İzleme bilgileri JIT Derleyici isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="b349e-113">You can request the JIT compiler to generate tracking information.</span></span> <span data-ttu-id="b349e-114">Bu, hata ayıklayıcı için MSIL oluşan bir zincir makine kodu karşılığı ile eşleşecek şekilde ve yerel değişkenlere ve işlev bağımsız değişkenleri depolandığı izlemenizi mümkün kılar.</span><span class="sxs-lookup"><span data-stu-id="b349e-114">This makes it possible for the debugger to match up a chain of MSIL with its machine code counterpart, and to track where local variables and function arguments are stored.</span></span> <span data-ttu-id="b349e-115">İstekte gerekmez. Bu nedenle .NET Framework sürüm 2.0 ile başlayarak, JIT Derleyici her zaman izleme bilgilerini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="b349e-115">Starting with the .NET Framework version 2.0, the JIT compiler always generates tracking information, so there is no need to request it.</span></span>

- <span data-ttu-id="b349e-116">Sonuçta elde edilen makine kodu şekilde JIT derleyicisi isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="b349e-116">You can request the JIT compiler to not optimize the resulting machine code.</span></span>

<span data-ttu-id="b349e-117">Normalde, oluşturduğu MSIL derleyici bu JIT Derleyici seçeneklerinin gerektiği gibi IDE anahtarlar veya örneğin, belirttiğiniz komut satırı seçenekleri göre ayarlar /**Od**.</span><span class="sxs-lookup"><span data-stu-id="b349e-117">Normally, the compiler that generates the MSIL sets these JIT compiler options appropriately, based upon the IDE switches or command-line options you specify, for example, /**Od**.</span></span>

<span data-ttu-id="b349e-118">Bazı durumlarda, böylece makine ürettiği kodu hata ayıklama daha kolaydır, JIT Derleyici davranışını değiştirmek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b349e-118">In some cases, you might want to change the behavior of the JIT compiler so that the machine code it generates is easier to debug.</span></span> <span data-ttu-id="b349e-119">Örneğin, izleme bilgileri bir perakende derleme için JIT oluşturmak veya en iyi duruma getirme denetlemek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b349e-119">For example, you might want to generate JIT tracking information for a retail build or control optimization.</span></span> <span data-ttu-id="b349e-120">Bir başlatma (.ini) dosyası ile bunu yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b349e-120">You can do so with an initialization (.ini) file.</span></span>

<span data-ttu-id="b349e-121">Örneğin, derleme, hata ayıklamak istiyorsanız adlı *MyApp.exe*, adlı bir metin dosyasını oluşturup *MyApp.ini*, aynı klasörde *MyApp.exe*, içeren Bu üç satırı:</span><span class="sxs-lookup"><span data-stu-id="b349e-121">For example, if the assembly you want to debug is called *MyApp.exe*, then you can create a text file named *MyApp.ini*, in the same folder as *MyApp.exe*, which contains these three lines:</span></span>

```txt
[.NET Framework Debugging Control]
GenerateTrackingInfo=1
AllowOptimize=0
```

<span data-ttu-id="b349e-122">Her seçeneğin değeri 0 veya 1 olarak ayarlayabilirsiniz ve herhangi bir mevcut seçeneği 0 olarak varsayılır.</span><span class="sxs-lookup"><span data-stu-id="b349e-122">You can set the value of each option to 0 or 1, and any absent option defaults to 0.</span></span> <span data-ttu-id="b349e-123">Ayarı `GenerateTrackingInfo` 1 ve `AllowOptimize` kolay hata ayıklama 0 olarak sağlar.</span><span class="sxs-lookup"><span data-stu-id="b349e-123">Setting `GenerateTrackingInfo` to 1 and `AllowOptimize` to 0 provides the easiest debugging.</span></span>

<span data-ttu-id="b349e-124">.NET Framework sürüm 2.0 ile başlayarak, JIT Derleyici her zaman değerinden bağımsız izleme bilgilerini oluşturur `GenerateTrackingInfo`; ancak `AllowOptimize` değeri yine de bir etkiye sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b349e-124">Starting with the .NET Framework version 2.0, the JIT compiler always generates tracking information regardless of the value for `GenerateTrackingInfo`; however, the `AllowOptimize` value still has an effect.</span></span> <span data-ttu-id="b349e-125">Kullanırken [Ngen.exe (yerel Görüntü Oluşturucu)](../../../docs/framework/tools/ngen-exe-native-image-generator.md) iyileştirme olmadan yerel görüntü derleneceği .ini dosya hedef klasörde mevcut olmalıdır `AllowOptimize=0` zaman Ngen.exe yürütür.</span><span class="sxs-lookup"><span data-stu-id="b349e-125">When using the [Ngen.exe (Native Image Generator)](../../../docs/framework/tools/ngen-exe-native-image-generator.md) to precompile the native image without optimization, the .ini file must be present in the target folder with `AllowOptimize=0` when Ngen.exe executes.</span></span> <span data-ttu-id="b349e-126">Bir derlemeyi iyileştirme olmadan önceden derlenmiş, NGen.exe kullanarak önceden derlenmiş kodu kaldırmanız gerekir **/ uninstall** gibi en iyi duruma getirilmiş kodu önceden derlemek için Ngen.exe yeniden çalıştırmadan önce seçeneği.</span><span class="sxs-lookup"><span data-stu-id="b349e-126">If you have precompiled an assembly without optimization, you must remove the precompiled code using NGen.exe **/uninstall** option before rerunning Ngen.exe to precompile the code as optimized.</span></span> <span data-ttu-id="b349e-127">.İni dosyası klasörde mevcut değilse, varsayılan olarak Ngen.exe kodu en iyi duruma getirilmiş olarak işlemini gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="b349e-127">If the .ini file isn't present in the folder, by default Ngen.exe precompiles the code as optimized.</span></span>

<span data-ttu-id="b349e-128"><xref:System.Diagnostics.DebuggableAttribute?displayProperty=nameWithType> Derleme ayarlarını denetler.</span><span class="sxs-lookup"><span data-stu-id="b349e-128">The <xref:System.Diagnostics.DebuggableAttribute?displayProperty=nameWithType> controls the settings for an assembly.</span></span> <span data-ttu-id="b349e-129">**DebuggableAttribute** JIT derleyicisi ve/veya en iyi duruma getirme izleme bilgileri oluşturan olup olmadığını denetleyen iki alan içerir.</span><span class="sxs-lookup"><span data-stu-id="b349e-129">**DebuggableAttribute** includes two fields that control whether the JIT compiler should optimize and/or generate tracking information.</span></span> <span data-ttu-id="b349e-130">.NET Framework sürüm 2.0 ile başlayarak, JIT Derleyici her zaman bir izleme bilgilerini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="b349e-130">Starting with the .NET Framework version 2.0, the JIT compiler always generates tracking information.</span></span>

<span data-ttu-id="b349e-131">Bir perakende derleme için derleyiciler herhangi ayarlamamanız **DebuggableAttribute**.</span><span class="sxs-lookup"><span data-stu-id="b349e-131">For a retail build, compilers don't set any **DebuggableAttribute**.</span></span> <span data-ttu-id="b349e-132">Varsayılan olarak, JIT Derleyici en yüksek performans, makine kodu hata ayıklama uygulamalarınızdaki oluşturur.</span><span class="sxs-lookup"><span data-stu-id="b349e-132">By default, the JIT compiler generates the highest performance, hardest to debug machine code.</span></span> <span data-ttu-id="b349e-133">JIT izleme biraz performansı düşürür, etkinleştirip devre dışı bırakma iyileştirme çok performansı düşürür.</span><span class="sxs-lookup"><span data-stu-id="b349e-133">Enabling JIT tracking lowers performance a little, and disabling optimization lowers performance a lot.</span></span>

<span data-ttu-id="b349e-134">**DebuggableAttribute** aynı anda tüm bir derleme, derleme içindeki tek tek modülleri için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="b349e-134">The **DebuggableAttribute** applies to a whole assembly at a time, not to individual modules within the assembly.</span></span> <span data-ttu-id="b349e-135">Geliştirme araçları gerekir bu nedenle ekleme özel öznitelikler için bütünleştirilmiş kod meta veri belirteci, bir derleme zaten oluşturuldu, veya sınıfa çağrılır, **System.Runtime.CompilerServices.AssemblyAttributesGoHere**.</span><span class="sxs-lookup"><span data-stu-id="b349e-135">Development tools must therefore attach custom attributes to the assembly metadata token, if an assembly has already been created, or to the class called **System.Runtime.CompilerServices.AssemblyAttributesGoHere**.</span></span> <span data-ttu-id="b349e-136">ALink Aracı'nı sonra bunlar yükseltir **DebuggableAttribute** her modül öznitelikleri derlemeye bunlar bir bir parçası haline gelir.</span><span class="sxs-lookup"><span data-stu-id="b349e-136">The ALink tool then promotes these **DebuggableAttribute** attributes from each module to the assembly they become a part of.</span></span> <span data-ttu-id="b349e-137">Bir çakışma varsa, ALINK işlemi başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="b349e-137">If there's a conflict, the ALink operation fails.</span></span>

> [!NOTE]
> <span data-ttu-id="b349e-138">Microsoft Visual C++ derleyicisi sürümünde .NET Framework 1.0 ekler **DebuggableAttribute** olduğunda **/CLR** ve **/zi** derleyici seçenekleri belirtilir.</span><span class="sxs-lookup"><span data-stu-id="b349e-138">In version 1.0 of the .NET Framework, the Microsoft Visual C++ compiler adds the **DebuggableAttribute** when the **/clr** and **/Zi** compiler options are specified.</span></span> <span data-ttu-id="b349e-139">Sürümünde .NET Framework 1.1, veya eklemelisiniz **DebugabbleAttribute** el ile kod veya kullanım, **assemblydebug** bağlayıcı seçeneği.</span><span class="sxs-lookup"><span data-stu-id="b349e-139">In version 1.1 of the .NET Framework, you must either add the **DebugabbleAttribute** manually in your code or use the **/ASSEMBLYDEBUG** linker option.</span></span>

## <a name="see-also"></a><span data-ttu-id="b349e-140">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="b349e-140">See also</span></span>

- [<span data-ttu-id="b349e-141">Hata Ayıklama, İzleme ve Profil Oluşturma</span><span class="sxs-lookup"><span data-stu-id="b349e-141">Debugging, Tracing, and Profiling</span></span>](../../../docs/framework/debug-trace-profile/index.md)
- [<span data-ttu-id="b349e-142">JIT-Ekleme Hata Ayıklamayı Etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="b349e-142">Enabling JIT-Attach Debugging</span></span>](../../../docs/framework/debug-trace-profile/enabling-jit-attach-debugging.md)
- <span data-ttu-id="b349e-143">[Profil oluşturmayı etkinleştirme](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/s5ec0es1(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="b349e-143">[Enabling Profiling](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/s5ec0es1(v=vs.100))</span></span>
