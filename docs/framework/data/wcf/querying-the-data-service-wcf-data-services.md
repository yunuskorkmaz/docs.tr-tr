---
title: Veri hizmetini sorgulama (WCF Veri Hizmetleri)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, querying
- WCF Data Services, accessing data
ms.assetid: 823e9444-27aa-4f1f-be8e-0486d67f54c0
ms.openlocfilehash: 21a0a02516a1fbe24378235b910df0a602900a21
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/07/2019
ms.locfileid: "70790383"
---
# <a name="querying-the-data-service-wcf-data-services"></a><span data-ttu-id="d2754-102">Veri hizmetini sorgulama (WCF Veri Hizmetleri)</span><span class="sxs-lookup"><span data-stu-id="d2754-102">Querying the Data Service (WCF Data Services)</span></span>

<span data-ttu-id="d2754-103">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] İstemci kitaplığı, dil ile tümleşik sorgu (LINQ) ile birlikte tanıdık .NET Framework programlama düzenlerini kullanarak bir veri hizmetine karşı sorgu yürütmenize olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="d2754-103">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library enables you to execute queries against a data service by using familiar .NET Framework programming patterns, including using language integrated query (LINQ).</span></span> <span data-ttu-id="d2754-104">İstemci kitaplığı, istemcide bir http get isteği iletisine bir <xref:System.Data.Services.Client.DataServiceQuery%601> sınıf örneği olarak tanımlanan bir sorguyu çevirir.</span><span class="sxs-lookup"><span data-stu-id="d2754-104">The client library translates a query, which is defined on the client as an instance of the <xref:System.Data.Services.Client.DataServiceQuery%601> class, into an HTTP GET request message.</span></span> <span data-ttu-id="d2754-105">Kitaplık, yanıt iletisini alır ve bunu istemci veri hizmeti sınıfları örneklerine dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="d2754-105">The library receives the response message and translates it into instances of client data service classes.</span></span> <span data-ttu-id="d2754-106">Bu sınıflar, <xref:System.Data.Services.Client.DataServiceContext> <xref:System.Data.Services.Client.DataServiceQuery%601> ait olduğu öğesine göre izlenir.</span><span class="sxs-lookup"><span data-stu-id="d2754-106">These classes are tracked by the <xref:System.Data.Services.Client.DataServiceContext> to which the <xref:System.Data.Services.Client.DataServiceQuery%601> belongs.</span></span>

## <a name="data-service-queries"></a><span data-ttu-id="d2754-107">Veri hizmeti sorguları</span><span class="sxs-lookup"><span data-stu-id="d2754-107">Data Service Queries</span></span>

<span data-ttu-id="d2754-108">Genel <xref:System.Data.Services.Client.DataServiceQuery%601> sınıf, sıfır veya daha fazla varlık türü örneklerinin bir koleksiyonunu döndüren bir sorguyu temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d2754-108">The <xref:System.Data.Services.Client.DataServiceQuery%601> generic class represents a query that returns a collection of zero or more entity type instances.</span></span> <span data-ttu-id="d2754-109">Veri hizmeti sorgusu her zaman mevcut bir veri hizmeti bağlamına aittir.</span><span class="sxs-lookup"><span data-stu-id="d2754-109">A data service query always belongs to an existing data service context.</span></span> <span data-ttu-id="d2754-110">Bu bağlam, sorguyu oluşturmak ve yürütmek için gereken hizmet URI 'sini ve meta veri bilgilerini korur.</span><span class="sxs-lookup"><span data-stu-id="d2754-110">This context maintains the service URI and metadata information that is required to compose and execute the query.</span></span>

<span data-ttu-id="d2754-111">Bir veri hizmetini .NET Framework tabanlı bir istemci uygulamasına eklemek için **hizmet başvurusu Ekle** iletişim kutusunu kullandığınızda, <xref:System.Data.Services.Client.DataServiceContext> sınıfından devralan bir varlık kapsayıcı sınıfı oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="d2754-111">When you use the **Add Service Reference** dialog to add a data service to a .NET Framework-based client application, an entity container class is created that inherits from the <xref:System.Data.Services.Client.DataServiceContext> class.</span></span> <span data-ttu-id="d2754-112">Bu sınıf, yazılı <xref:System.Data.Services.Client.DataServiceQuery%601> örnekleri döndüren özellikleri içerir.</span><span class="sxs-lookup"><span data-stu-id="d2754-112">This class includes properties that return typed <xref:System.Data.Services.Client.DataServiceQuery%601> instances.</span></span> <span data-ttu-id="d2754-113">Veri hizmetinin sunduğu her bir varlık kümesi için bir özellik vardır.</span><span class="sxs-lookup"><span data-stu-id="d2754-113">There is one property for each entity set that the data service exposes.</span></span> <span data-ttu-id="d2754-114">Bu özellikler, türü belirlenmiş <xref:System.Data.Services.Client.DataServiceQuery%601>bir örneğini oluşturmayı kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="d2754-114">These properties make it easier to create an instance of a typed <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span>

<span data-ttu-id="d2754-115">Aşağıdaki senaryolarda bir sorgu yürütülür:</span><span class="sxs-lookup"><span data-stu-id="d2754-115">A query is executed in the following scenarios:</span></span>

- <span data-ttu-id="d2754-116">Sonuçlar örtük olarak numaralandırıldıktan sonra:</span><span class="sxs-lookup"><span data-stu-id="d2754-116">When results are enumerated implicitly, such as:</span></span>

  - <span data-ttu-id="d2754-117">İçindeki bir özellik <xref:System.Data.Services.Client.DataServiceContext> ve varlık kümesi bir `foreach` (C#) veya `For Each` (Visual Basic) döngüsü sırasında numaralandırılır.</span><span class="sxs-lookup"><span data-stu-id="d2754-117">When a property on the <xref:System.Data.Services.Client.DataServiceContext> that represents and entity set is enumerated, such as during a `foreach` (C#) or `For Each` (Visual Basic) loop.</span></span>

  - <span data-ttu-id="d2754-118">Sorgu bir `List` koleksiyona atandığında.</span><span class="sxs-lookup"><span data-stu-id="d2754-118">When the query is assigned to a `List` collection.</span></span>

- <span data-ttu-id="d2754-119"><xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> Ya<xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A> da yöntemi açıkça çağrıldığında.</span><span class="sxs-lookup"><span data-stu-id="d2754-119">When the <xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> or <xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A> method is explicitly called.</span></span>

- <span data-ttu-id="d2754-120"><xref:System.Linq.Enumerable.First%2A> Ya<xref:System.Linq.Enumerable.Single%2A> da gibi bir LINQ sorgu yürütme işleci olduğunda.</span><span class="sxs-lookup"><span data-stu-id="d2754-120">When a LINQ query execution operator, such as <xref:System.Linq.Enumerable.First%2A> or <xref:System.Linq.Enumerable.Single%2A> is called.</span></span>

<span data-ttu-id="d2754-121">Aşağıdaki sorgu yürütüldüğünde, Northwind Data Service 'teki tüm `Customers` varlıkları döndürür:</span><span class="sxs-lookup"><span data-stu-id="d2754-121">The following query, when it is executed, returns all `Customers` entities in the Northwind data service:</span></span>

[!code-csharp[Astoria Northwind Client#GetAllCustomersSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#getallcustomersspecific)]
[!code-vb[Astoria Northwind Client#GetAllCustomersSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#getallcustomersspecific)]

<span data-ttu-id="d2754-122">Daha fazla bilgi için [nasıl yapılır: Veri hizmeti sorgularını](how-to-execute-data-service-queries-wcf-data-services.md)yürütün.</span><span class="sxs-lookup"><span data-stu-id="d2754-122">For more information, see [How to: Execute Data Service Queries](how-to-execute-data-service-queries-wcf-data-services.md).</span></span>

<span data-ttu-id="d2754-123">İstemci, içindeki C#dinamik türü kullanırken olduğu gibi, geç bağlantılı nesneler için sorguları destekler. [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]</span><span class="sxs-lookup"><span data-stu-id="d2754-123">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client supports queries for late-bound objects, such as when you use the *dynamic* type in C#.</span></span> <span data-ttu-id="d2754-124">Bununla birlikte, performans nedenleriyle, veri hizmetine yönelik kesin olarak belirlenmiş sorguları her zaman oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="d2754-124">However, for performance reasons you should always compose strongly-typed queries against the data service.</span></span> <span data-ttu-id="d2754-125"><xref:System.Tuple> Tür ve dinamik nesneler istemci tarafından desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="d2754-125">The <xref:System.Tuple> type and dynamic objects are not supported by the client.</span></span>

## <a name="linq-queries"></a><span data-ttu-id="d2754-126">LINQ Sorguları</span><span class="sxs-lookup"><span data-stu-id="d2754-126">LINQ Queries</span></span>

<span data-ttu-id="d2754-127">Sınıfı LINQ <xref:System.Linq.IQueryable%601> tarafından[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] tanımlanan arabirimi uyguladığından, istemci kitaplığı, LINQ sorgularını varlık kümesi verilerine karşı veri hizmetine göre değerlendirilen bir sorgu ifadesini temsil eden bir URI 'ye dönüştürebilir <xref:System.Data.Services.Client.DataServiceQuery%601> Kaynak.</span><span class="sxs-lookup"><span data-stu-id="d2754-127">Because the <xref:System.Data.Services.Client.DataServiceQuery%601> class implements the <xref:System.Linq.IQueryable%601> interface defined by LINQ, the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library is able to transform LINQ queries against entity set data into a URI that represents a query expression evaluated against a data service resource.</span></span> <span data-ttu-id="d2754-128">Aşağıdaki örnek, $30 'den daha fazla nakliye maliyeti olan ve sonuçları navlun <xref:System.Data.Services.Client.DataServiceQuery%601> maliyetine göre `Orders` sipariş eden geri dönüşe denk olan bir LINQ sorgusudur.</span><span class="sxs-lookup"><span data-stu-id="d2754-128">The following example is a LINQ query that is equivalent to the previous <xref:System.Data.Services.Client.DataServiceQuery%601> that returns `Orders` that have a freight cost of more than $30 and orders the results by the freight cost:</span></span>

[!code-csharp[Astoria Northwind Client#AddQueryOptionsLinqSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#addqueryoptionslinqspecific)]
[!code-vb[Astoria Northwind Client#AddQueryOptionsLinqSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#addqueryoptionslinqspecific)]

<span data-ttu-id="d2754-129">Bu LINQ sorgusu, Northwind tabanlı [hızlı başlangıç](quickstart-wcf-data-services.md) veri hizmeti 'ne karşı yürütülen AŞAĞıDAKI sorgu URI 'sine çevrilir:</span><span class="sxs-lookup"><span data-stu-id="d2754-129">This LINQ query is translated into the following query URI that is executed against the Northwind-based [quickstart](quickstart-wcf-data-services.md) data service:</span></span>

```
http://localhost:12345/Northwind.svc/Orders?Orderby=ShippedDate&?filter=Freight gt 30
```

> [!NOTE]
> <span data-ttu-id="d2754-130">LINQ sözdiziminde ifade edilen sorgu kümesi, veri Hizmetleri tarafından kullanılan temsili durum aktarımı (REST) tabanlı URI sözdiziminde etkinleştirilenlerden daha yavaştır.</span><span class="sxs-lookup"><span data-stu-id="d2754-130">The set of queries expressible in the LINQ syntax is broader than those enabled in the representational state transfer (REST)-based URI syntax that is used by data services.</span></span> <span data-ttu-id="d2754-131"><xref:System.NotSupportedException> Sorgu, hedef veri hizmetindeki bir URI ile eşleştirilemez olduğunda tetiklenir.</span><span class="sxs-lookup"><span data-stu-id="d2754-131">A <xref:System.NotSupportedException> is raised when the query cannot be mapped to a URI in the target data service.</span></span>

<span data-ttu-id="d2754-132">Daha fazla bilgi için bkz. [LINQ hususları](linq-considerations-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="d2754-132">For more information, see [LINQ Considerations](linq-considerations-wcf-data-services.md).</span></span>

## <a name="adding-query-options"></a><span data-ttu-id="d2754-133">Sorgu seçenekleri ekleme</span><span class="sxs-lookup"><span data-stu-id="d2754-133">Adding Query Options</span></span>

<span data-ttu-id="d2754-134">Veri hizmeti sorguları, s tarafından [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]sağlanan tüm sorgu seçeneklerini destekler.</span><span class="sxs-lookup"><span data-stu-id="d2754-134">Data service queries support all the query options that [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]s provides.</span></span> <span data-ttu-id="d2754-135">Sorgu seçeneklerini bir <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> <xref:System.Data.Services.Client.DataServiceQuery%601> örneğe eklemek için yöntemini çağırın.</span><span class="sxs-lookup"><span data-stu-id="d2754-135">You call the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method to append query options to a <xref:System.Data.Services.Client.DataServiceQuery%601> instance.</span></span> <span data-ttu-id="d2754-136"><xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A>özgün sorguya eşit <xref:System.Data.Services.Client.DataServiceQuery%601> olan, ancak yeni sorgu seçeneği ayarlanmış yeni bir örnek döndürür.</span><span class="sxs-lookup"><span data-stu-id="d2754-136"><xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> returns a new <xref:System.Data.Services.Client.DataServiceQuery%601> instance that is equivalent to the original query but with the new query option set.</span></span> <span data-ttu-id="d2754-137">Aşağıdaki sorgu yürütüldüğünde, `Orders` `Freight` değere göre filtrelenen ve azalan düzende sıralanan döndürür:`OrderID`</span><span class="sxs-lookup"><span data-stu-id="d2754-137">The following query, when executed, returns `Orders` that are filtered by the `Freight` value and ordered by the `OrderID`, descending:</span></span>

[!code-csharp[Astoria Northwind Client#AddQueryOptionsSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#addqueryoptionsspecific)]
[!code-vb[Astoria Northwind Client#AddQueryOptionsSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#addqueryoptionsspecific)]

<span data-ttu-id="d2754-138">`$orderby` Sorgu seçeneğini, döndürülen `Orders` nesneleri, `Freight` özelliğin değerine göre filtreleyen ve sipariş eden aşağıdaki örnekte olduğu gibi tek bir özelliğe göre sıralamak ve filtrelemek için kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="d2754-138">You can use the `$orderby` query option to both order and filter a query based on a single property, as in the following example that filters and orders the returned `Orders` objects based on the value of the `Freight` property:</span></span>

[!code-csharp[Astoria Northwind Client#OrderWithFilter](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#orderwithfilter)]
[!code-vb[Astoria Northwind Client#OrderWithFilter](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#orderwithfilter)]

<span data-ttu-id="d2754-139">Karmaşık sorgu ifadeleri oluşturmak <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> için yöntemi arka arkaya çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d2754-139">You can call the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method consecutively to construct complex query expressions.</span></span> <span data-ttu-id="d2754-140">Daha fazla bilgi için [nasıl yapılır: Bir veri hizmeti sorgusuna](how-to-add-query-options-to-a-data-service-query-wcf-data-services.md)sorgu seçenekleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="d2754-140">For more information, see [How to: Add Query Options to a Data Service Query](how-to-add-query-options-to-a-data-service-query-wcf-data-services.md).</span></span>

<span data-ttu-id="d2754-141">Sorgu seçenekleri bir LINQ sorgusunun sözdizimsel bileşenlerini ifade etmek için size başka bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="d2754-141">Query options give you another way to express the syntactic components of a LINQ query.</span></span> <span data-ttu-id="d2754-142">Daha fazla bilgi için bkz. [LINQ hususları](linq-considerations-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="d2754-142">For more information, see [LINQ Considerations](linq-considerations-wcf-data-services.md).</span></span>

> [!NOTE]
> <span data-ttu-id="d2754-143">Sorgu seçeneği, <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> yöntemi kullanılarak sorgu URI 'sine eklenemez. `$select`</span><span class="sxs-lookup"><span data-stu-id="d2754-143">The `$select` query option cannot be added to a query URI by using the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method.</span></span> <span data-ttu-id="d2754-144">İstemcinin istek URI 'sinde <xref:System.Linq.Enumerable.Select%2A> `$select` sorgu seçeneğini oluşturması için LINQ metodunu kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="d2754-144">We recommend that you use the LINQ <xref:System.Linq.Enumerable.Select%2A> method to have the client generate the `$select` query option in the request URI.</span></span>

<a name="executingQueries"></a>

## <a name="client-versus-server-execution"></a><span data-ttu-id="d2754-145">İstemci sunucu yürütmeye karşı</span><span class="sxs-lookup"><span data-stu-id="d2754-145">Client versus Server Execution</span></span>

<span data-ttu-id="d2754-146">İstemci iki bölümden bir sorgu yürütür.</span><span class="sxs-lookup"><span data-stu-id="d2754-146">The client executes a query in two parts.</span></span> <span data-ttu-id="d2754-147">Mümkün olduğunda, bir sorgudaki ifadeler öncelikle istemcide değerlendirilir ve ardından, bir URI tabanlı sorgu oluşturulup hizmette verilere göre değerlendirme için veri hizmetine gönderilir.</span><span class="sxs-lookup"><span data-stu-id="d2754-147">Whenever possible, expressions in a query are first evaluated on the client, and then a URI-based query is generated and sent to the data service for evaluation against data in the service.</span></span> <span data-ttu-id="d2754-148">Aşağıdaki LINQ sorgusunu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="d2754-148">Consider the following LINQ query:</span></span>

[!code-csharp[Astoria Northwind Client#LinqQueryClientEvalSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#linqqueryclientevalspecific)]
[!code-vb[Astoria Northwind Client#LinqQueryClientEvalSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#linqqueryclientevalspecific)]

<span data-ttu-id="d2754-149">Bu örnekte, ifadesi `(basePrice – (basePrice * discount))` istemcisinde değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="d2754-149">In this example, the expression `(basePrice – (basePrice * discount))` is evaluated on the client.</span></span> <span data-ttu-id="d2754-150">Bu nedenle, veri hizmetine gönderilen gerçek sorgu `http://localhost:12345/northwind.svc/Products()?$filter=(UnitPrice gt 90.00M) and substringof('bike',ProductName)` URI 'si, filtre yan tümcesinde zaten hesaplanmış olan `90` ondalık değerini içerir.</span><span class="sxs-lookup"><span data-stu-id="d2754-150">Because of this, the actual query URI `http://localhost:12345/northwind.svc/Products()?$filter=(UnitPrice gt 90.00M) and substringof('bike',ProductName)` that is sent to the data service contains the already calculated decimal value of `90` in the filter clause.</span></span> <span data-ttu-id="d2754-151">Filtre ifadesinin alt dize ifadesi de dahil diğer bölümleri veri hizmeti tarafından değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="d2754-151">The other parts of the filtering expression, including the substring expression, are evaluated by the data service.</span></span> <span data-ttu-id="d2754-152">İstemci üzerinde değerlendirilen ifadeler ortak dil çalışma zamanı (CLR) semantiğini izler, veri hizmetine gönderilen ifadeler [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokolün veri hizmeti uygulamasına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="d2754-152">Expressions that are evaluated on the client follow common language runtime (CLR) semantics, while expressions sent to the data service rely on the data service implementation of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Protocol.</span></span> <span data-ttu-id="d2754-153">Ayrıca, her iki istemci ve hizmet farklı saat dilimlerinde zamana dayalı değerlendirmeler gerçekleştirmede olduğu gibi, bu ayrı değerlendirmenin beklenmedik sonuçlara neden olabileceği senaryolara dikkat etmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d2754-153">You should also be aware of scenarios where this separate evaluation may cause unexpected results, such as when both the client and service perform time-based evaluations in different time zones.</span></span>

## <a name="query-responses"></a><span data-ttu-id="d2754-154">Sorgu yanıtları</span><span class="sxs-lookup"><span data-stu-id="d2754-154">Query Responses</span></span>

<span data-ttu-id="d2754-155">Yürütüldüğünde <xref:System.Data.Services.Client.DataServiceQuery%601> , istenen varlık türünün bir <xref:System.Collections.Generic.IEnumerable%601> örneğini döndürür.</span><span class="sxs-lookup"><span data-stu-id="d2754-155">When executed, the <xref:System.Data.Services.Client.DataServiceQuery%601> returns an <xref:System.Collections.Generic.IEnumerable%601> of the requested entity type.</span></span> <span data-ttu-id="d2754-156">Bu sorgu sonucu, aşağıdaki örnekte olduğu gibi <xref:System.Data.Services.Client.QueryOperationResponse%601> bir nesneye alınabilir:</span><span class="sxs-lookup"><span data-stu-id="d2754-156">This query result can be cast to a <xref:System.Data.Services.Client.QueryOperationResponse%601> object, as in the following example:</span></span>

[!code-csharp[Astoria Northwind Client#GetResponseSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#getresponsespecific)]
[!code-vb[Astoria Northwind Client#GetResponseSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#getresponsespecific)]

<span data-ttu-id="d2754-157">Veri hizmetindeki varlıkları temsil eden varlık türü örnekleri, istemci üzerinde nesne materialization adlı bir işlem tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="d2754-157">The entity type instances that represent entities in the data service are created on the client by a process called object materialization.</span></span> <span data-ttu-id="d2754-158">Daha fazla bilgi için bkz. [nesne materialization](object-materialization-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="d2754-158">For more information, see [Object Materialization](object-materialization-wcf-data-services.md).</span></span> <span data-ttu-id="d2754-159">Nesnesi, sorgunun sonuçlarına erişim sağlamak için uygular <xref:System.Collections.Generic.IEnumerable%601>. <xref:System.Data.Services.Client.QueryOperationResponse%601></span><span class="sxs-lookup"><span data-stu-id="d2754-159">The <xref:System.Data.Services.Client.QueryOperationResponse%601> object implements <xref:System.Collections.Generic.IEnumerable%601> to provide access to the results of the query.</span></span>

<span data-ttu-id="d2754-160">Ayrıca <xref:System.Data.Services.Client.QueryOperationResponse%601> , bir sorgu sonucuyla ilgili ek bilgilere erişmenizi sağlayan aşağıdaki üyelere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="d2754-160">The <xref:System.Data.Services.Client.QueryOperationResponse%601> also has the following members that enable you to access additional information about a query result:</span></span>

- <span data-ttu-id="d2754-161"><xref:System.Data.Services.Client.OperationResponse.Error%2A>-varsa, işlem tarafından oluşturulan bir hata alır.</span><span class="sxs-lookup"><span data-stu-id="d2754-161"><xref:System.Data.Services.Client.OperationResponse.Error%2A> - gets an error thrown by the operation, if any has occurred.</span></span>

- <span data-ttu-id="d2754-162"><xref:System.Data.Services.Client.OperationResponse.Headers%2A>-sorgu yanıtıyla ilişkili HTTP yanıt üst bilgileri koleksiyonunu içerir.</span><span class="sxs-lookup"><span data-stu-id="d2754-162"><xref:System.Data.Services.Client.OperationResponse.Headers%2A> - contains the collection of HTTP response headers associated with the query response.</span></span>

- <span data-ttu-id="d2754-163"><xref:System.Data.Services.Client.QueryOperationResponse.Query%2A>-tarafından <xref:System.Data.Services.Client.DataServiceQuery%601> <xref:System.Data.Services.Client.QueryOperationResponse%601>oluşturulan orijinali alır.</span><span class="sxs-lookup"><span data-stu-id="d2754-163"><xref:System.Data.Services.Client.QueryOperationResponse.Query%2A> - gets the original <xref:System.Data.Services.Client.DataServiceQuery%601> that generated the <xref:System.Data.Services.Client.QueryOperationResponse%601>.</span></span>

- <span data-ttu-id="d2754-164"><xref:System.Data.Services.Client.OperationResponse.StatusCode%2A>-sorgu yanıtının HTTP yanıt kodunu alır.</span><span class="sxs-lookup"><span data-stu-id="d2754-164"><xref:System.Data.Services.Client.OperationResponse.StatusCode%2A> - gets the HTTP response code for the query response.</span></span>

- <span data-ttu-id="d2754-165"><xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A>- <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> Yöntem<xref:System.Data.Services.Client.DataServiceQuery%601>üzerinde çağrıldığında varlık kümesindeki toplam varlık sayısını alır.</span><span class="sxs-lookup"><span data-stu-id="d2754-165"><xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> - gets the total number of entities in the entity set when the <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> method was called on the <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span>

- <span data-ttu-id="d2754-166"><xref:System.Data.Services.Client.QueryOperationResponse.GetContinuation%2A>-bir sonraki <xref:System.Data.Services.Client.DataServiceQueryContinuation> sonuç sayfasının URI 'sini içeren bir nesne döndürür.</span><span class="sxs-lookup"><span data-stu-id="d2754-166"><xref:System.Data.Services.Client.QueryOperationResponse.GetContinuation%2A> - returns a <xref:System.Data.Services.Client.DataServiceQueryContinuation> object that contains the URI of the next page of results.</span></span>

<span data-ttu-id="d2754-167">Varsayılan olarak, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] yalnızca sorgu URI 'si tarafından açıkça seçilen verileri döndürür.</span><span class="sxs-lookup"><span data-stu-id="d2754-167">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] only returns data that is explicitly selected by the query URI.</span></span> <span data-ttu-id="d2754-168">Bu, gerektiğinde veri hizmetinden ek verileri açıkça yükleme seçeneği sunar.</span><span class="sxs-lookup"><span data-stu-id="d2754-168">This gives you the option to explicitly load additional data from the data service when it is needed.</span></span> <span data-ttu-id="d2754-169">Veri hizmetinden verileri her açık şekilde yüklediğinizde veri hizmetine bir istek gönderilir.</span><span class="sxs-lookup"><span data-stu-id="d2754-169">A request is sent to the data service each time you explicitly load data from the data service.</span></span> <span data-ttu-id="d2754-170">Açık şekilde yüklenebilen veriler ilgili varlıkları, disk belleğine alınan yanıt verilerini ve ikili veri akışlarını içerir.</span><span class="sxs-lookup"><span data-stu-id="d2754-170">Data that can be explicitly loaded includes related entities, paged response data, and binary data streams.</span></span>

> [!NOTE]
> <span data-ttu-id="d2754-171">Bir veri hizmeti disk belleğine alınmış bir yanıt döndürebileceğinden, uygulamanızın disk belleğine alınmış bir veri hizmeti yanıtını işlemek için programlama modelini kullanmasını öneririz.</span><span class="sxs-lookup"><span data-stu-id="d2754-171">Because a data service may return a paged response, we recommend that your application use the programming pattern to handle a paged data service response.</span></span> <span data-ttu-id="d2754-172">Daha fazla bilgi için bkz. [ertelenmiş Içerik yükleme](loading-deferred-content-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="d2754-172">For more information, see [Loading Deferred Content](loading-deferred-content-wcf-data-services.md).</span></span>

<span data-ttu-id="d2754-173">Bir sorgu tarafından döndürülen veri miktarı, bir varlığın yalnızca belirli özelliklerinin yanıt olarak döndürüleceğini belirtilerek de azaltılabilir.</span><span class="sxs-lookup"><span data-stu-id="d2754-173">The amount of data returned by a query can also be reduced by specifying that only certain properties of an entity are returned in the response.</span></span> <span data-ttu-id="d2754-174">Daha fazla bilgi için bkz. [sorgu tahminleri](query-projections-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="d2754-174">For more information, see [Query Projections](query-projections-wcf-data-services.md).</span></span>

## <a name="getting-a-count-of-the-total-number-of-entities-in-the-set"></a><span data-ttu-id="d2754-175">Küme içindeki toplam varlık sayısının sayısını alma</span><span class="sxs-lookup"><span data-stu-id="d2754-175">Getting a Count of the Total Number of Entities in the Set</span></span>

<span data-ttu-id="d2754-176">Bazı senaryolarda, yalnızca sorgu tarafından döndürülen sayıyı değil, bir varlık kümesindeki toplam varlık sayısını bilmek yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="d2754-176">In some scenarios, it is helpful to know the total number of entities in an entity set and not merely the number returned by the query.</span></span> <span data-ttu-id="d2754-177">Kümesindeki bu toplam varlık sayısının <xref:System.Data.Services.Client.DataServiceQuery%601> sorgu sonucuna dahil edilmesini istemek için öğesinde yönteminiçağırın.<xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A></span><span class="sxs-lookup"><span data-stu-id="d2754-177">Call the <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> method on the <xref:System.Data.Services.Client.DataServiceQuery%601> to request that this total count of entities in the set be included with the query result.</span></span> <span data-ttu-id="d2754-178">Bu durumda, <xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> döndürülen <xref:System.Data.Services.Client.QueryOperationResponse%601> öğesinin özelliği, küme içindeki toplam varlık sayısını döndürür.</span><span class="sxs-lookup"><span data-stu-id="d2754-178">In this case, the <xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> property of the returned <xref:System.Data.Services.Client.QueryOperationResponse%601> returns the total number of entities in the set.</span></span>

<span data-ttu-id="d2754-179">Ayrıca, <xref:System.Int32> sırasıyla veya <xref:System.Linq.Enumerable.Count%2A> <xref:System.Int64> yöntemleriniçağırarak,kümeiçindekivarlıklarıntoplamsayısınıyadadeğeriolarakdaalabilirsiniz.<xref:System.Linq.Enumerable.LongCount%2A></span><span class="sxs-lookup"><span data-stu-id="d2754-179">You can also get only the total count of entities in the set either as an <xref:System.Int32> or as a <xref:System.Int64> value by calling the <xref:System.Linq.Enumerable.Count%2A> or <xref:System.Linq.Enumerable.LongCount%2A> methods respectively.</span></span> <span data-ttu-id="d2754-180">Bu Yöntemler çağrıldığında, bir <xref:System.Data.Services.Client.QueryOperationResponse%601> döndürülmez; yalnızca Count değeri döndürülür.</span><span class="sxs-lookup"><span data-stu-id="d2754-180">When these methods are called, a <xref:System.Data.Services.Client.QueryOperationResponse%601> is not returned; only the count value is returned.</span></span> <span data-ttu-id="d2754-181">Daha fazla bilgi için [nasıl yapılır: Bir sorgu](number-of-entities-returned-by-a-query-wcf.md)tarafından döndürülen varlıkların sayısını belirleme.</span><span class="sxs-lookup"><span data-stu-id="d2754-181">For more information, see [How to: Determine the Number of Entities Returned by a Query](number-of-entities-returned-by-a-query-wcf.md).</span></span>

## <a name="in-this-section"></a><span data-ttu-id="d2754-182">Bu Bölümde</span><span class="sxs-lookup"><span data-stu-id="d2754-182">In This Section</span></span>

- [<span data-ttu-id="d2754-183">Sorgu Projeksiyonları</span><span class="sxs-lookup"><span data-stu-id="d2754-183">Query Projections</span></span>](query-projections-wcf-data-services.md)

- [<span data-ttu-id="d2754-184">Nesne Gerçekleştirme</span><span class="sxs-lookup"><span data-stu-id="d2754-184">Object Materialization</span></span>](object-materialization-wcf-data-services.md)

- [<span data-ttu-id="d2754-185">LINQ Konuları</span><span class="sxs-lookup"><span data-stu-id="d2754-185">LINQ Considerations</span></span>](linq-considerations-wcf-data-services.md)

- [<span data-ttu-id="d2754-186">Nasıl yapılır: Veri hizmeti sorgularını yürütme</span><span class="sxs-lookup"><span data-stu-id="d2754-186">How to: Execute Data Service Queries</span></span>](how-to-execute-data-service-queries-wcf-data-services.md)

- [<span data-ttu-id="d2754-187">Nasıl yapılır: Veri hizmeti sorgusuna sorgu seçenekleri ekleme</span><span class="sxs-lookup"><span data-stu-id="d2754-187">How to: Add Query Options to a Data Service Query</span></span>](how-to-add-query-options-to-a-data-service-query-wcf-data-services.md)

- [<span data-ttu-id="d2754-188">Nasıl yapılır: Bir sorgu tarafından döndürülen varlıkların sayısını belirleme</span><span class="sxs-lookup"><span data-stu-id="d2754-188">How to: Determine the Number of Entities Returned by a Query</span></span>](number-of-entities-returned-by-a-query-wcf.md)

- [<span data-ttu-id="d2754-189">Nasıl yapılır: Veri hizmeti Isteği için Istemci kimlik bilgilerini belirtin</span><span class="sxs-lookup"><span data-stu-id="d2754-189">How to: Specify Client Credentials for a Data Service Request</span></span>](specify-client-creds-for-a-data-service-request-wcf.md)

- [<span data-ttu-id="d2754-190">Nasıl yapılır: Istemci Isteğindeki üst bilgileri ayarla</span><span class="sxs-lookup"><span data-stu-id="d2754-190">How to: Set Headers in the Client Request</span></span>](how-to-set-headers-in-the-client-request-wcf-data-services.md)

- [<span data-ttu-id="d2754-191">Nasıl yapılır: Proje sorgu sonuçları</span><span class="sxs-lookup"><span data-stu-id="d2754-191">How to: Project Query Results</span></span>](how-to-project-query-results-wcf-data-services.md)

## <a name="see-also"></a><span data-ttu-id="d2754-192">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="d2754-192">See also</span></span>

- [<span data-ttu-id="d2754-193">WCF Veri Hizmetleri İstemci Kitaplığı</span><span class="sxs-lookup"><span data-stu-id="d2754-193">WCF Data Services Client Library</span></span>](wcf-data-services-client-library.md)
