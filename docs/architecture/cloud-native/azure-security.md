---
title: Bulutta yerel uygulamalar için Azure güvenliği
description: Azure için Cloud Native .NET uygulamaları tasarlama | Cloud Native uygulamalar için Azure güvenliği
ms.date: 06/30/2019
ms.openlocfilehash: 79e1ec9bd91285041791e36275b03f128f2fe136
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/23/2019
ms.locfileid: "71183611"
---
# <a name="azure-security-for-cloud-native-apps"></a><span data-ttu-id="b93a8-103">Bulutta yerel uygulamalar için Azure güvenliği</span><span class="sxs-lookup"><span data-stu-id="b93a8-103">Azure security for cloud-native apps</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="b93a8-104">Bulutta yerel uygulamalar, geleneksel uygulamalardan güvenli şekilde daha kolay ve daha zor olabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-104">Cloud-native applications can be both easier and more difficult to secure than traditional applications.</span></span> <span data-ttu-id="b93a8-105">Alt tarafta, daha küçük uygulamalar için güvenli hale getirmeniz ve güvenlik altyapısını oluşturmak için daha fazla enerji ayırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-105">On the downside, you need to secure more smaller applications and dedicate more energy to build out the security infrastructure.</span></span> <span data-ttu-id="b93a8-106">Çoğu hizmet dağıtımında programlama dillerinin ve stillerinin heterojen doğası da birçok farklı sağlayıcıdan güvenlik bültenlerine daha fazla dikkat etmeniz gereken anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-106">The heterogeneous nature of programming languages and styles in most service deployments also means you need to pay more attention to security bulletins from many different providers.</span></span> 

<span data-ttu-id="b93a8-107">Ters çevir tarafında, her biri kendi veri deposuna sahip olan daha küçük hizmetler, bir saldırının kapsamını sınırlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-107">On the flip side, smaller services, each with their own data store, limit the scope of an attack.</span></span> <span data-ttu-id="b93a8-108">Bir saldırgan tek bir sistemi zorlayıyorsa, saldırganın tek parçalı bir uygulamada olduğundan başka bir sisteme atlamasını daha zor olabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-108">If an attacker compromises one system, it's probably more difficult for the attacker to make the jump to another system than it is in a monolithic application.</span></span> <span data-ttu-id="b93a8-109">İşlem sınırları güçlü sınırlardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-109">Process boundaries are strong boundaries.</span></span> <span data-ttu-id="b93a8-110">Ayrıca, bir veritabanı yedeklemesi sızıntıbulunursa, veritabanının yalnızca bir veri alt kümesini içermesi ve kişisel verilerin içermesi olası olması nedeniyle hasar daha sınırlı olur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-110">Also, if a database backup leaks, then the damage is more limited, as that database contains only a subset of data and is unlikely to contain personal data.</span></span>

## <a name="threat-modeling"></a><span data-ttu-id="b93a8-111">Tehdit modelleme</span><span class="sxs-lookup"><span data-stu-id="b93a8-111">Threat modeling</span></span>

<span data-ttu-id="b93a8-112">Avantaj, bulutta yerel uygulamaların dezavantajlarının olumsuz yönlerini anlamazsa, aynı bütünsel Security anlayış 'in izlenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-112">No matter if the advantages outweigh the disadvantages of cloud-native applications, the same holistic security mindset must be followed.</span></span> <span data-ttu-id="b93a8-113">Güvenlik ve güvenli düşünce, geliştirme ve işlemler hikayesinin her adımının bir parçası olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-113">Security and secure thinking must be part of every step of the development and operations story.</span></span> <span data-ttu-id="b93a8-114">Bir uygulamayı planlarken şu gibi sorular sorun:</span><span class="sxs-lookup"><span data-stu-id="b93a8-114">When planning an application ask questions like:</span></span>

* <span data-ttu-id="b93a8-115">Bu verilerin kaybedilmesi ne olur?</span><span class="sxs-lookup"><span data-stu-id="b93a8-115">What would be the impact of this data being lost?</span></span>
* <span data-ttu-id="b93a8-116">Bu hizmete eklenen hatalı verilerin hasar sayısını nasıl sınırlayabiliriz?</span><span class="sxs-lookup"><span data-stu-id="b93a8-116">How can we limit the damage from bad data being injected into this service?</span></span>
* <span data-ttu-id="b93a8-117">Bu verilere kimler erişebilsin?</span><span class="sxs-lookup"><span data-stu-id="b93a8-117">Who should have access to this data?</span></span>
* <span data-ttu-id="b93a8-118">Geliştirme ve yayınlama sürecinin çevresinde denetim ilkeleri var mı?</span><span class="sxs-lookup"><span data-stu-id="b93a8-118">Are there auditing policies in place around the development and release process?</span></span>

<span data-ttu-id="b93a8-119">Tüm bu sorular [tehdit modelleme](https://docs.microsoft.com/azure/security/azure-security-threat-modeling-tool)adlı bir işlemin parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-119">All these questions are part of a process called [threat modeling](https://docs.microsoft.com/azure/security/azure-security-threat-modeling-tool).</span></span> <span data-ttu-id="b93a8-120">Bu işlem, sisteme ne kadar tehdit olduğunu, tehditlerin ne olasılığından ve potansiyel olarak ne kadar hasar olduğunu yanıtlamaya çalışır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-120">This process tries to answer the question of what threats there are to the system, how likely the threats are, and the potential damage from them.</span></span> 

<span data-ttu-id="b93a8-121">Tehditler listesi kurulduktan sonra, bunların azaltıcı olup olmadığına karar vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-121">Once the list of threats has been established, you need to decide whether they're worth mitigating.</span></span> <span data-ttu-id="b93a8-122">Bazen tehdit, bunun üzerinde enerji harcamamasının planlanmaması açısından çok düşüktür ve pahalıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-122">Sometimes a threat is so unlikely and expensive to plan for that it isn't worth spending energy on it.</span></span> <span data-ttu-id="b93a8-123">Örneğin, bazı durum düzeyi aktör, milyonlarca cihaz tarafından kullanılan bir işlemin tasarımına değişiklikler ekleyebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-123">For instance, some state level actor could inject changes into the design of a process that is used by millions of devices.</span></span> <span data-ttu-id="b93a8-124">Artık, [halka 3](https://en.wikipedia.org/wiki/Protection_ring)' te belirli bir kod parçasını çalıştırmak yerine, bu kod halka 0 ' da çalıştırılır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-124">Now, instead of running a certain piece of code in [Ring 3](https://en.wikipedia.org/wiki/Protection_ring), that code is run in Ring 0.</span></span> <span data-ttu-id="b93a8-125">Bu, hiper yöneticiyi atlayabilmesine ve saldırı kodunu çıplak makinelerde çalıştırabilmesine olanak tanıyarak, bu donanımda çalışan tüm sanal makinelerde saldırılara izin verir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-125">This allows an exploit that can bypass the hypervisor and run the attack code on the bare metal machines, allowing attacks on all the virtual machines that are running on that hardware.</span></span>

<span data-ttu-id="b93a8-126">Değiştirilen işlemcilerin, mikro bir kapsam olmadan algılanmaları ve bu işlemcinin açık bir tasarımı hakkında bilgi sahibi olmanız zordur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-126">The altered processors are difficult to detect without a microscope and advanced knowledge of the on silicon design of that processor.</span></span> <span data-ttu-id="b93a8-127">Bu senaryonun gerçekleşmesi ve hafifletmemesi, büyük olasılıkla hiçbir tehdit modelinin bunun için yararlanma koruması oluşturulmasını önermez.</span><span class="sxs-lookup"><span data-stu-id="b93a8-127">This scenario is unlikely to happen and expensive to mitigate, so probably no threat model would recommend building exploit protection for it.</span></span> 

<span data-ttu-id="b93a8-128">Saldırıları arttırmaya (URL 'de ile `Id` `Id=3` değiştirme `Id=2` ) veya SQL ekleme saldırılarına izin veren bozuk erişim denetimleri gibi daha olası tehditler, korumaları geliştirmek için daha çekici bir olasılıktır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-128">More likely threats, such as broken access controls permitting `Id` incrementing attacks (replacing `Id=2` with `Id=3` in the URL) or SQL injection, are more attractive to build protections against.</span></span> <span data-ttu-id="b93a8-129">Bu tehditlere yönelik azaltmaları, şirketin saygınlığını sunan embarırmet güvenlik boşluklarını derlemek ve engellemek için oldukça mantıklı.</span><span class="sxs-lookup"><span data-stu-id="b93a8-129">The mitigations for these threats are quite reasonable to build and prevent embarrassing security holes that smear the company's reputation.</span></span> 

## <a name="principle-of-least-privilege"></a><span data-ttu-id="b93a8-130">En az ayrıcalık ilkesi</span><span class="sxs-lookup"><span data-stu-id="b93a8-130">Principle of least privilege</span></span>

<span data-ttu-id="b93a8-131">Bilgisayar güvenliği 'ndeki temel fikirlerden biri, en az ayrıcalık (POLP) prensibi.</span><span class="sxs-lookup"><span data-stu-id="b93a8-131">One of the founding ideas in computer security is the Principle of Least Privilege (POLP).</span></span> <span data-ttu-id="b93a8-132">Bu aslında büyük bir güvenlik biçiminin dijital veya fiziksel olduğu bir temel fikir olabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-132">It's actually a foundational idea in most any form of security be it digital or physical.</span></span> <span data-ttu-id="b93a8-133">Kısacası, herhangi bir kullanıcının veya işlemin, görevini yürütmek için gereken en az sayıda haklara sahip olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-133">In short, the principle is that any user or process should have the smallest number of rights possible to execute its task.</span></span> 

<span data-ttu-id="b93a8-134">Örnek olarak, bir bankadaki teller göz önünde bulundurun: güvenli erişim, yaygın olmayan bir etkinliktir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-134">As an example, think of the tellers at a bank: accessing the safe is an uncommon activity.</span></span> <span data-ttu-id="b93a8-135">Bu nedenle, ortalama teller güvenli bir şekilde kendini açamaz.</span><span class="sxs-lookup"><span data-stu-id="b93a8-135">So, the average teller can't open the safe themselves.</span></span> <span data-ttu-id="b93a8-136">Erişim kazanmak için, isteklerini ek güvenlik denetimleri gerçekleştiren bir banka Yöneticisi aracılığıyla ilerlemeleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-136">To gain access, they need to escalate their request through a bank manager, who performs additional security checks.</span></span> 

<span data-ttu-id="b93a8-137">Bir bilgisayar sisteminde, harika bir örnek, bir veritabanına bağlanan Kullanıcı haklarından oluşur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-137">In a computer system, a fantastic example is the rights of a user connecting to a database.</span></span> <span data-ttu-id="b93a8-138">Çoğu durumda, veritabanı yapısını derlemek ve uygulamayı çalıştırmak için kullanılan tek bir kullanıcı hesabı vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-138">In many cases, there's a single user account used to both build the database structure and run the application.</span></span> <span data-ttu-id="b93a8-139">Olağanüstü durumlar dışında, uygulamayı çalıştıran hesabın şema bilgilerini güncelleştirme yeteneğinin olması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="b93a8-139">Except in extreme cases, the account running the application doesn't need the ability to update schema information.</span></span> <span data-ttu-id="b93a8-140">Farklı ayrıcalık düzeyleri sağlayan birkaç hesap olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-140">There should be several accounts that provide different levels of privilege.</span></span> <span data-ttu-id="b93a8-141">Uygulama yalnızca tablolardaki verilere okuma ve yazma erişimi veren izin düzeyini kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-141">The application should only use the permission level that grants read and write access to the data in the tables.</span></span> <span data-ttu-id="b93a8-142">Bu tür bir koruma, veritabanı tablolarını bırakmayı veya kötü amaçlı Tetikleyicileri ortaya çıkaracak saldırıları ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-142">This kind of protection would eliminate attacks that aimed to drop database tables or introduce malicious triggers.</span></span> 

<span data-ttu-id="b93a8-143">Bulutta yerel bir uygulama oluşturmanın neredeyse her bölümü, en az ayrıcalık ilkesini hatırlayıp yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-143">Almost every part of building a cloud-native application can benefit from remembering the principle of least privilege.</span></span> <span data-ttu-id="b93a8-144">Rol tabanlı erişim denetimi (RBAC) içinde güvenlik duvarları, ağ güvenlik grupları, roller ve kapsamlar ayarlarken bu dosyayı yürütmeye ulaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b93a8-144">You can find it at play when setting up firewalls, network security groups, roles, and scopes in Role-based access control (RBAC).</span></span>

## <a name="penetration-testing"></a><span data-ttu-id="b93a8-145">Sızma testi</span><span class="sxs-lookup"><span data-stu-id="b93a8-145">Penetration testing</span></span>

<span data-ttu-id="b93a8-146">Uygulamalar daha karmaşık hale geldiğinde, bir alarma hızında saldırı vektörü sayısı artar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-146">As applications become more complicated the number of attack vectors increases at an alarming rate.</span></span> <span data-ttu-id="b93a8-147">Tehdit modellemesi, sistemi oluşturan kişilerle aynı şekilde yürütüldüğünü eğilimi gösterir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-147">Threat modeling is flawed in that it tends to be executed by the same people building the system.</span></span> <span data-ttu-id="b93a8-148">Birçok geliştiricinin Kullanıcı etkileşimleriyle ilgili sorunları planlama ve ardından kullanım dışı Kullanıcı arabirimleri oluştururken, çoğu geliştirici her saldırı vektörünü görmekte güçlük çekiyor.</span><span class="sxs-lookup"><span data-stu-id="b93a8-148">In the same way that many developers have trouble envisioning user interactions and then build unusable user interfaces, most developers have difficulty seeing every attack vector.</span></span> <span data-ttu-id="b93a8-149">Ayrıca, sistemi oluşturan geliştiricilerin saldırı yöntemleri açısından önemli değildir ve önemli bir şeyi kaçırmamak da mümkündür.</span><span class="sxs-lookup"><span data-stu-id="b93a8-149">It's also possible that the developers building the system aren't well versed in attack methodologies and miss something crucial.</span></span> 

<span data-ttu-id="b93a8-150">Sızma testi veya "kalem testi", sisteme saldırmayı denemek için dış aktörlerin oluşturulmasını içerir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-150">Penetration testing or "pen testing" involves bringing in external actors to attempt to attack the system.</span></span> <span data-ttu-id="b93a8-151">Bu saldırganlar, bir dış danışmanlık şirketi veya iş diğer bir bölümünden daha iyi güvenlik bilgisine sahip diğer geliştiriciler olabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-151">These attackers may be an external consulting company or other developers with good security knowledge from another part of the business.</span></span> <span data-ttu-id="b93a8-152">Bu kişiler, sistemi dikey olarak ayırmak için planın sağladığı Blanche 'e verilirler.</span><span class="sxs-lookup"><span data-stu-id="b93a8-152">They're given carte blanche to attempt to subvert the system.</span></span> <span data-ttu-id="b93a8-153">Sık sık düzeltme olması gereken kapsamlı güvenlik delikleri bulacaksınız.</span><span class="sxs-lookup"><span data-stu-id="b93a8-153">Frequently, they'll find extensive security holes that need to be patched.</span></span> <span data-ttu-id="b93a8-154">Bazen saldırı vektörü, CEO ile karşı bir sızdırma saldırısından yararlanmak gibi tamamen beklenmedik bir şekilde görünür.</span><span class="sxs-lookup"><span data-stu-id="b93a8-154">Sometimes the attack vector will be something totally unexpected like exploiting a phishing attack against the CEO.</span></span>

<span data-ttu-id="b93a8-155">Azure 'un kendisi, [Microsoft içindeki bir bilgisayar korsanlarından](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/)sürekli saldırılardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-155">Azure itself is constantly undergoing attacks from a [team of hackers inside Microsoft](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/).</span></span> <span data-ttu-id="b93a8-156">Yıllarca, bunlar dışarıdan yararlanmadan önce çok zararlı olabilecek saldırı vektörlerini ilk kez bulmaktan önce yaptık.</span><span class="sxs-lookup"><span data-stu-id="b93a8-156">Over the years, they've been the first to find dozens of potentially catastrophic attack vectors, closing them before they can be exploited externally.</span></span> <span data-ttu-id="b93a8-157">Bir hedefin daha fazla olması halinde, dış aktörlerin bundan büyük olasılıkla faydalanma olasılığı yüksektir ve dünyanın dört bir yanındaki Azure 'dan daha fazla sayıda hedef vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-157">The more tempting a target, the more likely that eternal actors will attempt to exploit it and there are a few targets in the world more tempting than Azure.</span></span> 

## <a name="monitoring"></a><span data-ttu-id="b93a8-158">İzleme</span><span class="sxs-lookup"><span data-stu-id="b93a8-158">Monitoring</span></span>

<span data-ttu-id="b93a8-159">Bir saldırgan bir uygulamaya sızma denemesi yapmanız gerekir, bunun bir uyarı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-159">Should an attacker attempt to penetrate an application, there should be some warning of it.</span></span> <span data-ttu-id="b93a8-160">Sık sık saldırılar, hizmetlerden günlükleri inceleyerek daha fazla bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-160">Frequently, attacks can be spotted by examining the logs from services.</span></span> <span data-ttu-id="b93a8-161">Saldırılar, başarılı bir şekilde başarısız olabilecek telltişaretlerini bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-161">Attacks leave telltale signs that can be spotted before they succeed.</span></span> <span data-ttu-id="b93a8-162">Örneğin, bir parolayı tahmin etmeye çalışan bir saldırgan, oturum açma sistemine çok sayıda istek yapar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-162">For instance, an attacker attempting to guess a password will make many requests to a login system.</span></span> <span data-ttu-id="b93a8-163">Oturum açma sistemi etrafında izlemek, tipik erişim düzeniyle satır dışı olan tuhaf desenlerini algılayabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-163">Monitoring around the login system can detect weird patterns that are out of line with the typical access pattern.</span></span> <span data-ttu-id="b93a8-164">Bu izleme, bir işlem kişisini, bir dizi onay ölçümünü etkinleştirmek üzere uyarabilecek bir uyarıya dönüştürülebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-164">This monitoring can be turned into an alert that can, in turn, alert an operations person to activate some sort of countermeasure.</span></span> <span data-ttu-id="b93a8-165">Yüksek derecede çok büyük bir izleme sistemi, istekleri engellemek veya yanıtları kısıtlamak için kuralları eklemek için bu sapmaları temel alan işlem gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-165">A highly mature monitoring system might even take action based on these deviations proactively adding rules to block requests or throttle responses.</span></span> 

## <a name="securing-the-build"></a><span data-ttu-id="b93a8-166">Derlemeyi güvenli hale getirme</span><span class="sxs-lookup"><span data-stu-id="b93a8-166">Securing the build</span></span>

<span data-ttu-id="b93a8-167">Güvenliğin genellikle yapı sürecinin etrafında olduğu bir yerdir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-167">One place where security is often overlooked is around the build process.</span></span> <span data-ttu-id="b93a8-168">Yalnızca, derleme, güvenli olmayan kod veya iade kimlik bilgileri için tarama gibi güvenlik denetimleri çalıştırmamalıdır, ancak yapılandırmanın kendisi güvende olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-168">Not only should the build run security checks, such as scanning for insecure code or checked-in credentials, but the build itself should be secure.</span></span> <span data-ttu-id="b93a8-169">Yapı sunucusu tehlikeye girerse, ürüne rastgele kod tanıtımı için harika bir vektör sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-169">If the build server is compromised, then it provides a fantastic vector for introducing arbitrary code into the product.</span></span> 

<span data-ttu-id="b93a8-170">Bir saldırganın bir Web uygulamasında oturum açan kişilerin parolalarını çalmak için bakmasını düşünün.</span><span class="sxs-lookup"><span data-stu-id="b93a8-170">Imagine that an attacker is looking to steal the passwords of people signing into a web application.</span></span> <span data-ttu-id="b93a8-171">Başka bir sunucuya herhangi bir oturum açma isteğini yansıtmak için, kullanıma alınan kodu değiştiren bir yapı adımı ortaya çıkarabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-171">They could introduce a build step that modifies the checked-out code to mirror any login request to another server.</span></span> <span data-ttu-id="b93a8-172">Bir sonraki kod derlemeden geçtiğinde sessizce güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-172">The next time code goes through the build, it's silently updated.</span></span> <span data-ttu-id="b93a8-173">Kaynak kodu güvenlik açığı taraması, derlemeden önce çalıştığı için bunu yakalamaz.</span><span class="sxs-lookup"><span data-stu-id="b93a8-173">The source code vulnerability scanning won't catch this as it runs before the build.</span></span> <span data-ttu-id="b93a8-174">Aynı şekilde, derleme adımları yapı sunucusunda canlı olduğundan, hiçbir kimse onu bir kod incelemesinin içinde yakalayamaz.</span><span class="sxs-lookup"><span data-stu-id="b93a8-174">Equally, nobody will catch it in a code review because the build steps live on the build server.</span></span> <span data-ttu-id="b93a8-175">Yararlanılabilen kod, parolaların nereden bir şekilde bir yere gidebileceği üretime gider.</span><span class="sxs-lookup"><span data-stu-id="b93a8-175">The exploited code will go to production where it can harvest passwords.</span></span> <span data-ttu-id="b93a8-176">Büyük olasılıkla, derleme işlemi değişikliklerinden bir denetim günlüğü yok veya en az bir zaman denetimini izlemiyor.</span><span class="sxs-lookup"><span data-stu-id="b93a8-176">Probably there's no audit log of the build process changes, or at least nobody monitoring the audit.</span></span> 

<span data-ttu-id="b93a8-177">Bu, sisteme bölmek için kullanılabilecek, en düşük bir değer hedefine yönelik kusursuz bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-177">This is a perfect example of a seemingly low value target that can be used to break into the system.</span></span> <span data-ttu-id="b93a8-178">Bir saldırgan sistemin çevre ağına ulaştığında, izinlerini, istedikleri yere gerçek zarar verebilecek bir noktaya yükseltmek için yollar bulmaya başlayabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-178">Once an attacker breaches the perimeter of the system, they can start working on finding ways to elevate their permissions to the point that they can cause real harm anywhere they like.</span></span>

## <a name="building-secure-code"></a><span data-ttu-id="b93a8-179">Güvenli kod oluşturma</span><span class="sxs-lookup"><span data-stu-id="b93a8-179">Building secure code</span></span>

<span data-ttu-id="b93a8-180">.NET Framework zaten güvenli bir çerçeve.</span><span class="sxs-lookup"><span data-stu-id="b93a8-180">The .NET Framework is already a quite secure framework.</span></span> <span data-ttu-id="b93a8-181">Bu, dizilerin uçlarını yürüyerek yönetilmeyen kodların bazı bazı türlerini önler.</span><span class="sxs-lookup"><span data-stu-id="b93a8-181">It avoids some of the pitfalls of unmanaged code, such as walking off the ends of arrays.</span></span> <span data-ttu-id="b93a8-182">Çalışma, keşfedildiği şekilde güvenlik boşluklarını gidermek için etkin bir şekilde yapılır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-182">Work is actively done to fix security holes as they're discovered.</span></span> <span data-ttu-id="b93a8-183">Hatta, aracıdaki sorunları bulmak ve bunları yararlanmak yerine onları raporlamak için araştırmacıları ödeyen bir [hata sıçratı programı](https://www.microsoft.com/msrc/bounty) vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-183">There's even a [bug bounty program](https://www.microsoft.com/msrc/bounty) that pays researchers to find issues in the framework and report them instead of exploiting them.</span></span> 

<span data-ttu-id="b93a8-184">.NET kodunu daha güvenli hale getirmek için birçok yol vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-184">There are many ways to make .NET code more secure.</span></span> <span data-ttu-id="b93a8-185">[.Net Için güvenli kodlama yönergeleri](https://docs.microsoft.com/dotnet/standard/security/secure-coding-guidelines) gibi yönergeler, kodun baştan sona güvendiğinden emin olmak için makul bir adımdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-185">Following guidelines such as the [Secure coding guidelines for .NET](https://docs.microsoft.com/dotnet/standard/security/secure-coding-guidelines) article is a reasonable step to take to ensure that the code is secure from the ground up.</span></span> <span data-ttu-id="b93a8-186">[OWASP en iyi 10](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_2017_Project) , güvenli kod oluşturmaya yönelik başka bir değerli kılavuzdur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-186">The [OWASP top 10](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_2017_Project) is another invaluable guide to build secure code.</span></span>

<span data-ttu-id="b93a8-187">Yapı işlemi, kaynak kodundaki sorunları üretime yapmadan önce saptamak için tarama araçlarını koymak için iyi bir yerdir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-187">The build process is a good place to put scanning tools to detect problems in source code before they make it into production.</span></span> <span data-ttu-id="b93a8-188">Çoğu projenin diğer bazı paketlere bağımlılıkları vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-188">Most every project has dependencies on some other packages.</span></span> <span data-ttu-id="b93a8-189">Güncel olmayan paketleri tarayabileceğiniz bir araç, gecelik bir derlemede sorunları yakalar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-189">A tool that can scan for outdated packages will catch problems in a nightly build.</span></span> <span data-ttu-id="b93a8-190">Docker görüntülerini oluştururken bile, temel görüntüde bilinen güvenlik açıklarına sahip olmadığından emin olmak ve denetlemek yararlı olur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-190">Even when building Docker images, it's useful to check and make sure that the base image doesn't have known vulnerabilities.</span></span> <span data-ttu-id="b93a8-191">Denetlenecek başka bir şey, hiçbir kimsenin kimlik bilgilerini yanlışlıkla denetledi.</span><span class="sxs-lookup"><span data-stu-id="b93a8-191">Another thing to check is that nobody has accidentally checked in credentials.</span></span> 

## <a name="built-in-security"></a><span data-ttu-id="b93a8-192">Yerleşik güvenlik</span><span class="sxs-lookup"><span data-stu-id="b93a8-192">Built-in security</span></span> 

<span data-ttu-id="b93a8-193">Azure, kullanıcıların çoğunluğu için kullanılabilirliği ve güvenliği dengelemek üzere tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-193">Azure is designed to balance usability and security for the majority of users.</span></span> <span data-ttu-id="b93a8-194">Farklı kullanıcılar farklı güvenlik gereksinimlerine sahip olacak ve bu nedenle bulut güvenliğine yaklaşımına ince ayar yapması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-194">Different users are going to have different security requirements, so they need to fine-tune their approach to cloud security.</span></span> <span data-ttu-id="b93a8-195">Microsoft [Güven Merkezi](https://azure.microsoft.com/support/trust-center/)'nde harika bir güvenlik bilgisi yayınlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-195">Microsoft publishes a great deal of security information in the [Trust Center](https://azure.microsoft.com/support/trust-center/).</span></span> <span data-ttu-id="b93a8-196">Bu kaynak, yerleşik saldırı risk azaltma teknolojilerinin nasıl çalıştığını anlamak isteyen bu profesyonellerin ilk durağı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-196">This resource should be the first stop for those professionals interested in understanding how the built-in attack mitigation technologies work.</span></span>

<span data-ttu-id="b93a8-197">[Azure danışmanı](https://azure.microsoft.com/services/advisor/) Azure Portal içinde, sürekli olarak bir ortamı tarayan ve öneriler getiren bir sistemdir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-197">Within the Azure portal, the [Azure Advisor](https://azure.microsoft.com/services/advisor/) is a system that is constantly scanning an environment and making recommendations.</span></span> <span data-ttu-id="b93a8-198">Bu önerilerin bazıları kullanıcıları paradan tasarruf etmek için tasarlanmıştır, ancak diğerleri, bir depolama kapsayıcısının dünya çapında açık olması ve bir sanal ağ tarafından korunmamasından dolayı, güvensiz olabilecek yapılandırmaların tanımlanması için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-198">Some of these recommendations are designed to save users money, but others are designed to identify potentially insecure configurations, such as having a storage container open to the world and not protected by a Virtual Network.</span></span>

## <a name="azure-network-infrastructure"></a><span data-ttu-id="b93a8-199">Azure ağ altyapısı</span><span class="sxs-lookup"><span data-stu-id="b93a8-199">Azure network infrastructure</span></span>

<span data-ttu-id="b93a8-200">Şirket içi dağıtım ortamında, ağ kurulması için harika bir enerji kullanımı idealdir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-200">In an on-premises deployment environment, a great deal of energy is dedicated to setting up networking.</span></span> <span data-ttu-id="b93a8-201">Yönlendiricileri, anahtarları ve bu tür karmaşık işleri ayarlama.</span><span class="sxs-lookup"><span data-stu-id="b93a8-201">Setting up routers, switches, and the such is complicated work.</span></span> <span data-ttu-id="b93a8-202">Ağlar belirli kaynakların diğer kaynaklarla iletişim kurmasına ve bazı durumlarda erişimi engellemesine olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-202">Networks allow certain resources to talk to other resources and prevent access in some cases.</span></span> <span data-ttu-id="b93a8-203">Sık kullanılan bir ağ kuralı, geliştirme ortamından üretim ortamına erişimi, yarı geliştirilmiş bir kod parçasının awry çalıştırması ve çok fazla veri silmesi ihtimaline karşı kısıtlamasıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-203">A frequent network rule is to restrict access to the production environment from the development environment on the off chance that a half-developed piece of code runs awry and deletes a swath of data.</span></span>

<span data-ttu-id="b93a8-204">Çoğu PaaS Azure kaynaklarının çoğu, en temel ve izin veren ağ kurulumuna sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-204">Out of the box, most PaaS Azure resources have only the most basic and permissive networking setup.</span></span> <span data-ttu-id="b93a8-205">Örneğin, Internet üzerindeki herkes bir App Service 'e erişebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-205">For instance, anybody on the Internet can access an app service.</span></span> <span data-ttu-id="b93a8-206">Yeni SQL Server örnekleri genellikle sınırlı gelir, böylece dış taraflar bunlara erişemez, ancak Azure tarafından kullanılan IP adresi aralıklarına aracılığıyla izin verilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-206">New SQL Server instances typically come restricted, so that external parties can't access them, but the IP address ranges used by Azure itself are permitted through.</span></span> <span data-ttu-id="b93a8-207">Bu nedenle, SQL Server dış tehditlerden korunurken, bir saldırganın yalnızca Azure 'daki tüm SQL örneklerine karşı saldırıları başlatabilecekleri Azure köprü kurucu ayarlaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-207">So, while the SQL server is protected from external threats, an attacker only needs to set up an Azure bridgehead from where they can launch attacks against all SQL instances on Azure.</span></span>

<span data-ttu-id="b93a8-208">Neyse ki, çoğu Azure kaynağı daha ayrıntılı erişim denetimi sağlayan bir Azure sanal ağına yerleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-208">Fortunately, most Azure resources can be placed into an Azure Virtual Network that allows finer grained access control.</span></span> <span data-ttu-id="b93a8-209">Şirket içi ağların, daha geniş dünyadan korunan özel ağları oluşturma yöntemine benzer şekilde, sanal ağlar Azure ağı içinde bulunan özel IP adresi Adaları 'lardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-209">Similar to the way that on-premises networks establish private networks that are protected from the wider world, virtual networks are islands of private IP addresses that are located within the Azure network.</span></span>

<span data-ttu-id="b93a8-210">![Şekil 10-1 Azure](./media/virtual-network.png)
**Şekil 10-1**' de bir sanal ağ.</span><span class="sxs-lookup"><span data-stu-id="b93a8-210">![Figure 10-1 A virtual network in Azure](./media/virtual-network.png)
**Figure 10-1**.</span></span> <span data-ttu-id="b93a8-211">Azure 'da bir sanal ağ.</span><span class="sxs-lookup"><span data-stu-id="b93a8-211">A virtual network in Azure.</span></span>

<span data-ttu-id="b93a8-212">Şirket içi ağların ağa erişimi yöneten bir güvenlik duvarı olduğu şekilde, sanal ağın sınırında benzer bir güvenlik duvarı kurabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b93a8-212">In the same way that on-premises networks have a firewall governing access to the network, you can establish a similar firewall at the boundary of the virtual network.</span></span> <span data-ttu-id="b93a8-213">Varsayılan olarak, bir sanal ağdaki tüm kaynaklar yine de Internet ile konuşabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-213">By default, all the resources on a virtual network can still talk to the Internet.</span></span> <span data-ttu-id="b93a8-214">Yalnızca bazı açık güvenlik duvarı özel durumu gerektiren gelen bağlantılarıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-214">It's only incoming connections that require some form of explicit firewall exception.</span></span>

<span data-ttu-id="b93a8-215">Ağ oluşturulduğunda, depolama hesapları gibi iç kaynaklar yalnızca sanal ağ üzerindeki kaynaklara göre erişime izin verecek şekilde ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-215">With the network established, internal resources like storage accounts can be set up to only allow for access by resources that are also on the Virtual Network.</span></span> <span data-ttu-id="b93a8-216">Bu güvenlik duvarı, daha fazla güvenlik düzeyi sağlar ve bu depolama hesabı için anahtarlar sızmış olması gerekir. saldırganlar, sızan anahtarlarla yararlanmaya yönelik bağlantı kurabiliyor.</span><span class="sxs-lookup"><span data-stu-id="b93a8-216">This firewall provides an extra level of security, should the keys for that storage account be leaked, attackers wouldn't be able to connect to it to exploit the leaked keys.</span></span> <span data-ttu-id="b93a8-217">Bu, en az ayrıcalık prensibi bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-217">This is another example of the principle of least privilege.</span></span>

<span data-ttu-id="b93a8-218">Azure Kubernetes kümesindeki düğümler, Azure 'da daha doğal olan diğer kaynaklar gibi sanal bir ağa katılabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-218">The nodes in an Azure Kubernetes cluster can participate in a virtual network just like other resources that are more native to Azure.</span></span> <span data-ttu-id="b93a8-219">Bu işlevselliğe [Azure Container Networking arabirimi](https://github.com/Azure/azure-container-networking/blob/master/docs/cni.md)adı verilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-219">This functionality is called [Azure Container Networking Interface](https://github.com/Azure/azure-container-networking/blob/master/docs/cni.md).</span></span> <span data-ttu-id="b93a8-220">Aslında, sanal makinelerin ve kapsayıcı görüntülerinin ayrıldığı sanal ağ içinde bir alt ağ ayırır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-220">In effect, it allocates a subnet within the virtual network on which virtual machines and container images are allocated.</span></span>

<span data-ttu-id="b93a8-221">Bir sanal ağ içindeki her kaynağın diğer her kaynakla iletişim kurmasını sağlamak için, en az ayrıcalık ilkesini gösteren yolun sonuna kadar devam edin.</span><span class="sxs-lookup"><span data-stu-id="b93a8-221">Continuing down the path of illustrating the principle of least privilege, not every resource within a Virtual Network needs to talk to every other resource.</span></span> <span data-ttu-id="b93a8-222">Örneğin, bir depolama hesabı ve SQL veritabanı üzerinde Web API 'SI sağlayan bir uygulamada, veritabanının ve depolama hesabının birbirleriyle iletişim kurmasına gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-222">For instance, in an application that provides a web API over a storage account and a SQL database, it's unlikely that the database and the storage account need to talk to one another.</span></span> <span data-ttu-id="b93a8-223">Aralarında herhangi bir veri paylaşımı web uygulamasına gider.</span><span class="sxs-lookup"><span data-stu-id="b93a8-223">Any data sharing between them would go through the web application.</span></span> <span data-ttu-id="b93a8-224">Bu nedenle, iki hizmet arasındaki trafiği reddetmek için bir [ağ güvenlik grubu (NSG)](https://docs.microsoft.com/azure/virtual-network/security-overview) kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-224">So, a [network security group (NSG)](https://docs.microsoft.com/azure/virtual-network/security-overview) could be used to deny traffic between the two services.</span></span>

<span data-ttu-id="b93a8-225">Kaynaklar arasındaki iletişimi reddetme ilkesi, özellikle de trafik kısıtlamaları olmadan Azure kullanmanın bir arka planıyla gelen uygulama için sinir bozucu olabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-225">A policy of denying communication between resources can be annoying to implement, especially coming from a background of using Azure without traffic restrictions.</span></span> <span data-ttu-id="b93a8-226">Diğer bulutlarda, ağ güvenlik grupları kavramı çok daha yaygındır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-226">On some other clouds, the concept of network security groups is much more prevalent.</span></span> <span data-ttu-id="b93a8-227">Örneğin, AWS üzerindeki varsayılan ilke, bir NSG 'de kurallar tarafından etkinleştirilinceye kadar kaynaklar kendileri arasında iletişim kuramaz.</span><span class="sxs-lookup"><span data-stu-id="b93a8-227">For instance, the default policy on AWS is that resources can't communicate among themselves until enabled by rules in an NSG.</span></span> <span data-ttu-id="b93a8-228">Bunu geliştirmekten daha yavaş olsa da, daha kısıtlayıcı bir ortam daha güvenli bir varsayılan değer sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-228">While slower to develop this, more restrictive environment provides a more secure default.</span></span> <span data-ttu-id="b93a8-229">Uygun DevOps uygulamalarından yararlanarak, özellikle izinleri yönetmek için [Azure Resource Manager ya da Terlarform](infrastructure-as-code.md) kullanmak kuralların denetlenmesine daha kolay hale getirir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-229">Making use of proper DevOps practices, especially using [Azure Resource Manager or Terraform](infrastructure-as-code.md) to manage permissions can make controlling the rules easier.</span></span>

<span data-ttu-id="b93a8-230">Sanal ağlar, şirket içi ve bulut kaynakları arasında iletişim kurarken da yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-230">Virtual Networks can also be useful when setting up communication between on-premises and cloud resources.</span></span> <span data-ttu-id="b93a8-231">Bir sanal özel ağ, iki ağı sorunsuzca birlikte eklemek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-231">A virtual private network can be used to seamlessly attach the two networks together.</span></span> <span data-ttu-id="b93a8-232">Bu, tüm kullanıcıların yerinde olduğu senaryolar için herhangi bir ağ geçidi sıralaması olmadan bir sanal ağın çalıştırılmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-232">This allows running a virtual network without any sort of gateway for scenarios where all the users are on-site.</span></span> <span data-ttu-id="b93a8-233">Bu ağı kurmak için kullanılabilecek çeşitli teknolojiler vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-233">There are a number of technologies that can be used to establish this network.</span></span> <span data-ttu-id="b93a8-234">En basit, birçok yönlendirici ve Azure arasında kurulabilirler, [siteden sıteye VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json#s2smulti) kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-234">The simplest is to use a [site-to-site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json#s2smulti) that can be established between many routers and Azure.</span></span> <span data-ttu-id="b93a8-235">Trafik, Internet üzerinden, diğer tüm trafik olarak bayt başına aynı maliyetten şifrelenir ve tünel oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-235">Traffic is encrypted and tunneled over the Internet at the same cost per byte as any other traffic.</span></span> <span data-ttu-id="b93a8-236">Daha fazla bant genişliği veya daha fazla güvenlik istenmekte olan senaryolarda Azure, şirket içi ağ ile Azure arasında özel bir bağlantı hattı kullanan [Express Route](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json#ExpressRoute) adlı bir hizmet sunar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-236">For scenarios where more bandwidth or more security is desirable, Azure offers a service called [Express Route](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json#ExpressRoute) that uses a private circuit between an on-premises network and Azure.</span></span> <span data-ttu-id="b93a8-237">Daha pahalı ve daha da güvenli hale gelir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-237">It's more costly and difficult to establish but also more secure.</span></span> 

## <a name="role-based-access-control-for-restricting-access-to-azure-resources"></a><span data-ttu-id="b93a8-238">Azure kaynaklarına erişimi kısıtlamak için rol tabanlı erişim denetimi</span><span class="sxs-lookup"><span data-stu-id="b93a8-238">Role-based access control for restricting access to Azure resources</span></span>

<span data-ttu-id="b93a8-239">RBAC, Azure 'da çalışan uygulamalara kimlik sağlayan bir sistemdir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-239">RBAC is a system that provides an identity to applications running in Azure.</span></span> <span data-ttu-id="b93a8-240">Uygulamalar, anahtarları veya parolaları kullanmanın yanı sıra bu kimliği kullanarak kaynaklara erişebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-240">Applications can access resources using this identity instead of or in addition to using keys or passwords.</span></span> 

## <a name="security-principals"></a><span data-ttu-id="b93a8-241">Güvenlik sorumluları</span><span class="sxs-lookup"><span data-stu-id="b93a8-241">Security Principals</span></span>

<span data-ttu-id="b93a8-242">RBAC 'deki ilk bileşen bir güvenlik sorumlusidir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-242">The first component in RBAC is a security principal.</span></span> <span data-ttu-id="b93a8-243">Bir güvenlik sorumlusu, bir Kullanıcı, Grup, hizmet sorumlusu veya yönetilen kimlik olabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-243">A security principal can be a user, group, service principal, or managed identity.</span></span> 

<span data-ttu-id="b93a8-244">![Şekil 10-2 farklı türlerde güvenlik sorumluları](./media/rbac-security-principal.png)
**Şekil 10-2**.</span><span class="sxs-lookup"><span data-stu-id="b93a8-244">![Figure 10-2 Different types of security principals](./media/rbac-security-principal.png)
**Figure 10-2**.</span></span> <span data-ttu-id="b93a8-245">Farklı türlerde güvenlik sorumluları.</span><span class="sxs-lookup"><span data-stu-id="b93a8-245">Different types of security principals.</span></span>

* <span data-ttu-id="b93a8-246">Kullanıcı-Azure Active Directory bir hesabı olan herhangi bir Kullanıcı, bir kullanıcı.</span><span class="sxs-lookup"><span data-stu-id="b93a8-246">User - Any user who has an account in Azure Active Directory is a user.</span></span>

* <span data-ttu-id="b93a8-247">Grup-Azure Active Directory bir kullanıcı koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="b93a8-247">Group - A collection of users from Azure Active Directory.</span></span> <span data-ttu-id="b93a8-248">Bir grubun üyesi olarak, bir Kullanıcı, kendilerine ek olarak o grubun rollerini de alır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-248">As a member of a group, a user takes on the roles of that group in addition to their own.</span></span>

* <span data-ttu-id="b93a8-249">Hizmet sorumlusu-hizmetlerin veya uygulamaların çalıştırıldığı bir güvenlik kimliği.</span><span class="sxs-lookup"><span data-stu-id="b93a8-249">Service principal - A security identity under which services or applications run.</span></span>

* <span data-ttu-id="b93a8-250">Yönetilen kimlik-Azure tarafından yönetilen bir Azure Active Directory kimliği.</span><span class="sxs-lookup"><span data-stu-id="b93a8-250">Managed identity - An Azure Active Directory identity managed by Azure.</span></span> <span data-ttu-id="b93a8-251">Yönetilen kimlikler genellikle Azure hizmetlerinde kimlik doğrulaması için kimlik bilgilerini yöneten bulut uygulamaları geliştirilirken kullanılır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-251">Managed identities are typically used when developing cloud applications that manage the credentials for authenticating to Azure services.</span></span>

<span data-ttu-id="b93a8-252">Güvenlik sorumlusu her bir kaynağa uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-252">The security principal can be applied to most any resource.</span></span> <span data-ttu-id="b93a8-253">Bu, Azure Kubernetes içinde çalışan bir kapsayıcıya bir güvenlik sorumlusu atamak ve bunun Key Vault depolanan gizli dizilerle erişmesine izin vermek mümkün olduğu anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-253">This means that it's possible to assign a security principal to a container running within Azure Kubernetes, allowing it to access secrets stored in Key Vault.</span></span> <span data-ttu-id="b93a8-254">Azure Işlevi, çağıran bir kullanıcı için bir JWT doğrulamak üzere bir Active Directory örneğiyle iletişim kurmasına izin veren bir izni alabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-254">An Azure Function could take on a permission allowing it to talk to an Active Directory instance to validate a JWT for a calling user.</span></span> <span data-ttu-id="b93a8-255">Hizmet sorumlusu ile hizmetler etkinleştirildikten sonra, izinleri roller ve kapsamlar kullanılarak yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-255">Once services are enabled with a service principal, their permissions can be managed granularly using roles and scopes.</span></span>  

## <a name="roles"></a><span data-ttu-id="b93a8-256">Lerdir</span><span class="sxs-lookup"><span data-stu-id="b93a8-256">Roles</span></span>

<span data-ttu-id="b93a8-257">Bir güvenlik sorumlusu birçok rolü veya daha fazla bir benzerleme vurguladı, aşı birçok HATS 'yi kullanarak alabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-257">A security principal can take on many roles or, using a more sartorial analogy, wear many hats.</span></span> <span data-ttu-id="b93a8-258">Her rol, "Azure Service Bus uç noktasından iletileri oku" gibi bir dizi izin tanımlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-258">Each role defines a series of permissions such as "Read messages from Azure Service Bus endpoint".</span></span> <span data-ttu-id="b93a8-259">Güvenlik sorumlusu etkin izin kümesi, güvenlik sorumlusu 'nın sahip olduğu tüm rollere atanan tüm izinlerin birleşimidir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-259">The effective permission set of a security principal is the combination of all the permissions assigned to all the roles that security principal has.</span></span> <span data-ttu-id="b93a8-260">Azure 'da çok sayıda yerleşik rol bulunur ve kullanıcılar kendi rollerini tanımlayabilirler.</span><span class="sxs-lookup"><span data-stu-id="b93a8-260">Azure has a large number of built-in roles and users can define their own roles.</span></span>

<span data-ttu-id="b93a8-261">![Şekil 10-3 RBAC rol tanımları](./media/rbac-role-definition.png)
**Şekil 10-3**.</span><span class="sxs-lookup"><span data-stu-id="b93a8-261">![Figure 10-3 RBAC role definitions](./media/rbac-role-definition.png)
**Figure 10-3**.</span></span> <span data-ttu-id="b93a8-262">RBAC rol tanımları.</span><span class="sxs-lookup"><span data-stu-id="b93a8-262">RBAC role definitions.</span></span>

<span data-ttu-id="b93a8-263">Azure 'da yerleşik olarak, sahip, katkıda bulunan, okuyucu ve Kullanıcı hesabı Yöneticisi gibi birçok üst düzey rol de vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-263">Built into Azure are also a number of high-level roles such as Owner, Contributor, Reader, and User Account Administrator.</span></span> <span data-ttu-id="b93a8-264">Sahip rolüyle, bir güvenlik sorumlusu tüm kaynaklara erişebilir ve diğerlerine izin atayabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-264">With the Owner role, a security principal can access all resources and assign permissions to others.</span></span> <span data-ttu-id="b93a8-265">Katkıda bulunan, tüm kaynaklara aynı düzeyde erişime sahiptir ancak izin atayamazlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-265">A contributor has the same level of access to all resources but they can't assign permissions.</span></span> <span data-ttu-id="b93a8-266">Okuyucu yalnızca mevcut Azure kaynaklarını görüntüleyebilir ve bir kullanıcı hesabı Yöneticisi, Azure kaynaklarına erişimi yönetebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-266">A Reader can only view existing Azure resources and a User Account Administrator can manage access to Azure resources.</span></span>

<span data-ttu-id="b93a8-267">[DNS bölgesi katılımcısı](https://docs.microsoft.com/azure/role-based-access-control/built-in-roles#dns-zone-contributor) gibi daha ayrıntılı yerleşik roller, tek bir hizmetle sınırlı haklara sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-267">More granular built-in roles such as [DNS Zone Contributor](https://docs.microsoft.com/azure/role-based-access-control/built-in-roles#dns-zone-contributor) have rights limited to a single service.</span></span> <span data-ttu-id="b93a8-268">Güvenlik sorumluları, herhangi bir sayıda rol alabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-268">Security principals can take on any number of roles.</span></span>

## <a name="scopes"></a><span data-ttu-id="b93a8-269">Kapsamları</span><span class="sxs-lookup"><span data-stu-id="b93a8-269">Scopes</span></span>

<span data-ttu-id="b93a8-270">Roller, Azure 'daki kısıtlanmış bir kaynak kümesine uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-270">Roles can be applied to a restricted set of resources within Azure.</span></span> <span data-ttu-id="b93a8-271">Örneğin, bir Service Bus sırasından daha önceki bir örneğe kapsam uygulayarak, tek bir sıraya yönelik izni daraltabilirsiniz: "Azure Service Bus uç noktasından `blah.servicebus.windows.net/queue1`iletileri oku"</span><span class="sxs-lookup"><span data-stu-id="b93a8-271">For instance, applying scope to the previous example of reading from a Service Bus queue, you can narrow the permission to a single queue: "Read messages from Azure Service Bus endpoint `blah.servicebus.windows.net/queue1`"</span></span>

<span data-ttu-id="b93a8-272">Kapsam tek bir kaynak kadar dar olabilir veya bir kaynak grubuna, aboneliğe veya hatta yönetim grubuna uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-272">The scope can be as narrow as a single resource or it can be applied to an entire resource group, subscription, or even management group.</span></span>

<span data-ttu-id="b93a8-273">Bir güvenlik sorumlusunun belirli bir izni varsa test edilirken rol ve kapsamın birleşimi hesaba alınır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-273">When testing if a security principal has a certain permission, the combination of role and scope are taken into account.</span></span> <span data-ttu-id="b93a8-274">Bu bileşim, güçlü bir yetkilendirme mekanizması sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-274">This combination provides a powerful authorization mechanism.</span></span>

## <a name="deny"></a><span data-ttu-id="b93a8-275">Reddet</span><span class="sxs-lookup"><span data-stu-id="b93a8-275">Deny</span></span>

<span data-ttu-id="b93a8-276">Daha önce RBAC için yalnızca "izin ver" kurallara izin verilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-276">Previously, only "allow" rules were permitted for RBAC.</span></span> <span data-ttu-id="b93a8-277">Bu davranış, derleme için karmaşık bazı kapsamlar yaptı.</span><span class="sxs-lookup"><span data-stu-id="b93a8-277">This behavior made some scopes complicated to build.</span></span> <span data-ttu-id="b93a8-278">Örneğin, bir güvenlik sorumlusu, bir depolama hesaplarının potansiyel olarak sonsuz bir listesine açık izin verilmesi dışında tüm depolama hesaplarına erişimine izin verir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-278">For instance, allowing a security principal access to all storage accounts except one required granting explicit permission to a potentially endless list of storage accounts.</span></span> <span data-ttu-id="b93a8-279">Her yeni depolama hesabı oluşturulduğunda, bu hesap listesine eklenmelidir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-279">Every time a new storage account was created, it would have to be added to this list of accounts.</span></span> <span data-ttu-id="b93a8-280">Bu, kesinlikle istenen yönetim yükünü ekledi.</span><span class="sxs-lookup"><span data-stu-id="b93a8-280">This added management overhead that certainly wasn't desirable.</span></span>

<span data-ttu-id="b93a8-281">Reddetme kuralları izin verme kurallarına göre önceliklidir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-281">Deny rules take precedence over allow rules.</span></span> <span data-ttu-id="b93a8-282">Artık aynı "tümüne izin ver" dışında bir kapsamın temsil edilebilmesi, "tümüne izin ver" ve "Bu tek tek Reddet" şeklinde iki kural olarak temsil edilebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-282">Now representing the same "allow all but one" scope could be represented as two rules "allow all" and "deny this one specific one".</span></span> <span data-ttu-id="b93a8-283">Reddetme kuralları, her bir gövdeye erişimi reddeterek yönetimi yalnızca yönetim kolaylığı sağlar ancak ekstra güvenli kaynaklar için izin verir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-283">Deny rules not only ease management but allow for resources that are extra secure by denying access to everybody.</span></span>

## <a name="checking-access"></a><span data-ttu-id="b93a8-284">Erişim denetleniyor</span><span class="sxs-lookup"><span data-stu-id="b93a8-284">Checking access</span></span>

<span data-ttu-id="b93a8-285">Imagine de, çok sayıda rol ve kapsamın olması, hizmet sorumlusunun etkin iznini belirlemek oldukça zordur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-285">As you can imagine, having a large number of roles and scopes can make figuring out the effective permission of a service principal quite difficult.</span></span> <span data-ttu-id="b93a8-286">Üzerinde engelleyen reddetme kuralları, yalnızca karmaşıklığın arttırmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-286">Piling deny rules on top of that, only serves to increase the complexity.</span></span> <span data-ttu-id="b93a8-287">Neyse ki, herhangi bir hizmet sorumlusu için etkili izinleri gösterebilmiş bir izin Hesaplayıcısı vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-287">Fortunately, there's a permissions calculator that can show the effective permissions for any service principal.</span></span> <span data-ttu-id="b93a8-288">Normalde, Şekil 10-3 ' de gösterildiği gibi, portaldaki ıAM sekmesinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-288">It's typically found under the IAM tab in the portal, as shown in Figure 10-3.</span></span>

<span data-ttu-id="b93a8-289">![Şekil 10-4 bir App Service](./media/check-rbac.png)
**Şekil 10-4**için izin Hesaplayıcı.</span><span class="sxs-lookup"><span data-stu-id="b93a8-289">![Figure 10-4 Permission calculator for an app service](./media/check-rbac.png)
**Figure 10-4**.</span></span> <span data-ttu-id="b93a8-290">Bir App Service için izin Hesaplayıcı.</span><span class="sxs-lookup"><span data-stu-id="b93a8-290">Permission calculator for an app service.</span></span>

## <a name="securing-secrets"></a><span data-ttu-id="b93a8-291">Gizli dizileri güvenli hale getirme</span><span class="sxs-lookup"><span data-stu-id="b93a8-291">Securing secrets</span></span>

<span data-ttu-id="b93a8-292">Parolalar ve sertifikalar, saldırganlar için ortak bir saldırı vektördür.</span><span class="sxs-lookup"><span data-stu-id="b93a8-292">Passwords and certificates are a common attack vector for attackers.</span></span> <span data-ttu-id="b93a8-293">Parola çözme donanımı, bir deneme yanılma saldırısı yapabilir ve saniye başına milyarlarca parola tahmin etmeye çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-293">Password-cracking hardware can do a  brute-force attack and try to guess billions of passwords per second.</span></span> <span data-ttu-id="b93a8-294">Bu nedenle, kaynaklara erişmek için kullanılan parolaların çok çeşitli karakterlerle güçlü olması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-294">So it's important that the passwords that are used to access resources are strong, with a large variety of characters.</span></span> <span data-ttu-id="b93a8-295">Bu parolalar tam olarak anımsanması olanaksız olan parolaların türüdür.</span><span class="sxs-lookup"><span data-stu-id="b93a8-295">These passwords are exactly the kind of passwords that are near impossible to remember.</span></span> <span data-ttu-id="b93a8-296">Neyse ki, Azure 'daki parolaların gerçekten herhangi bir insan tarafından bilinmesi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="b93a8-296">Fortunately, the passwords in Azure don't actually need to be known by any human.</span></span> 

<span data-ttu-id="b93a8-297">Birçok güvenlik [uzmanı](https://www.troyhunt.com/password-managers-dont-have-to-be-perfect-they-just-have-to-be-better-than-not-having-one/) , kendi parolalarınızı korumak için parola Yöneticisi kullanmanın en iyi yaklaşım olduğunu önerir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-297">Many security [experts suggest](https://www.troyhunt.com/password-managers-dont-have-to-be-perfect-they-just-have-to-be-better-than-not-having-one/) that using a password manager to keep your own passwords is the best approach.</span></span> <span data-ttu-id="b93a8-298">Parolalarınızı tek bir konumda merkezileştirirken, son derece karmaşık parolaların kullanılmasına ve her hesap için benzersiz olduklarından emin olmayı sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-298">While it centralizes your passwords in one location, it also allows using highly complex passwords and ensuring they're unique for each account.</span></span> <span data-ttu-id="b93a8-299">Azure 'da aynı sistem vardır: gizlilikler için merkezi bir mağaza.</span><span class="sxs-lookup"><span data-stu-id="b93a8-299">The same system exists within Azure: a central store for secrets.</span></span>

## <a name="azure-key-vault"></a><span data-ttu-id="b93a8-300">Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="b93a8-300">Azure Key Vault</span></span>

<span data-ttu-id="b93a8-301">Azure Key Vault veritabanları, API anahtarları ve sertifikalar gibi şeyler için parolaları depolamak üzere merkezi bir konum sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-301">Azure Key Vault provides a centralized location to store passwords for things such as databases, API keys, and certificates.</span></span> <span data-ttu-id="b93a8-302">Kasaya bir gizli dizi girildiğinde bu, hiçbir zaman bir daha gösterilmemiştir ve bunu çıkarmak ve görüntülemek için komutlar tam olarak karmaşıktır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-302">Once a secret is entered into the Vault, it's never shown again and the commands to extract and view it are purposefully complicated.</span></span> <span data-ttu-id="b93a8-303">Güvende bilgiler yazılım şifrelemesi veya FIPS 140-2 düzey 2 tarafından doğrulanan donanım güvenliği modülleri kullanılarak korunur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-303">The information in the safe is protected using either software encryption or FIPS 140-2 Level 2 validated Hardware Security Modules.</span></span> 

<span data-ttu-id="b93a8-304">Anahtar kasasına erişim RBACs üzerinden sağlanır. Bu, kasadaki bilgilere yalnızca herhangi bir kullanıcının erişemeyeceği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-304">Access to the key vault is provided through RBACs, meaning that not just any user can access the information in the vault.</span></span> <span data-ttu-id="b93a8-305">Bir Web uygulamasının Azure Key Vault ' de depolanan veritabanı bağlantı dizesine erişmesini söylediklerini varsayalım.</span><span class="sxs-lookup"><span data-stu-id="b93a8-305">Say a web application wishes to access the database connection string stored in Azure Key Vault.</span></span> <span data-ttu-id="b93a8-306">Erişim kazanmak için uygulamaların bir hizmet sorumlusu kullanarak çalıştırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-306">To gain access, applications need to run using a service principal.</span></span> <span data-ttu-id="b93a8-307">Bu kabul edilen rolün altında gizli dizileri güvenli bir şekilde okuyabilirler.</span><span class="sxs-lookup"><span data-stu-id="b93a8-307">Under this assumed role, they can read the secrets from the safe.</span></span> <span data-ttu-id="b93a8-308">Bir uygulamanın kasaya sahip olduğu erişimi daha fazla sınırlayabilmesi için bir dizi farklı güvenlik ayarı vardır. bu sayede gizli dizileri güncelleştiremez, ancak yalnızca bunları okuyabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-308">There are a number of different security settings that can further limit the access that an application has to the vault, so that it can't update secrets but only read them.</span></span> 

<span data-ttu-id="b93a8-309">Yalnızca beklenen uygulamaların kasaya eriştiğinden emin olmak için anahtar kasasına erişim izlenebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-309">Access to the key vault can be monitored to ensure that only the expected applications are accessing the vault.</span></span> <span data-ttu-id="b93a8-310">Günlükler, Azure Izleyici ile tümleştirilebilir ve beklenmeyen koşullara göre uyarı ayarlama yeteneğinin kilidini açabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-310">The logs can be integrated back into Azure Monitor, unlocking the ability to set up alerts when unexpected conditions are encountered.</span></span> 

## <a name="kubernetes"></a><span data-ttu-id="b93a8-311">Kubernetes</span><span class="sxs-lookup"><span data-stu-id="b93a8-311">Kubernetes</span></span>

<span data-ttu-id="b93a8-312">Kubernetes içinde, küçük gizli bilgi parçalarını korumak için benzer bir hizmet vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-312">Within Kubernetes, there's a similar service for maintaining small pieces of secret information.</span></span> <span data-ttu-id="b93a8-313">Kubernetes gizli dizileri, tipik `kubectl` yürütülebilir dosya aracılığıyla ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-313">Kubernetes Secrets can be set via the typical `kubectl` executable.</span></span>

<span data-ttu-id="b93a8-314">Gizli dizi oluşturmak, depolanacak değerlerin Base64 sürümünü bulmak kadar basittir:</span><span class="sxs-lookup"><span data-stu-id="b93a8-314">Creating a secret is as simple as finding the base64 version of the values to be stored:</span></span>

```console
echo -n 'admin' | base64
YWRtaW4=
echo -n '1f2d1e2e67df' | base64
MWYyZDFlMmU2N2Rm
```

<span data-ttu-id="b93a8-315">Ardından, aşağıdaki örneğe benzer bir örnek olarak `secret.yml` adlı bir gizli dizi dosyasına ekleyin:</span><span class="sxs-lookup"><span data-stu-id="b93a8-315">Then adding it to a secrets file named `secret.yml` for example that looks similar to the following example:</span></span>

```yml
apiVersion: v1
kind: Secret
metadata:
  name: mysecret
type: Opaque
data:
  username: YWRtaW4=
  password: MWYyZDFlMmU2N2Rm
```

<span data-ttu-id="b93a8-316">Son olarak, bu dosya aşağıdaki komut çalıştırılarak Kubernetes içine yüklenebilir:</span><span class="sxs-lookup"><span data-stu-id="b93a8-316">Finally, this file can be loaded into Kubernetes by running the following command:</span></span>

```console
kubectl apply -f ./secret.yaml
```

<span data-ttu-id="b93a8-317">Bu gizlilikler daha sonra birimlere bağlanabilir veya ortam değişkenleri aracılığıyla kapsayıcı işlemlerine sunulabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-317">These secrets can then be mounted into volumes or exposed to container processes through environment variables.</span></span> <span data-ttu-id="b93a8-318">Uygulamalar oluşturmaya yönelik [on iki öğeli uygulama](https://12factor.net/) yaklaşımı, ayarları bir uygulamaya aktarmak için en düşük ortak paydayı kullanmayı önerir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-318">The [Twelve-factor app](https://12factor.net/) approach to building applications suggests using the lowest common denominator to transmit settings to an application.</span></span> <span data-ttu-id="b93a8-319">İşletim sistemi veya uygulamadan bağımsız olarak desteklendiklerinden, ortam değişkenleri en düşük ortak paydatır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-319">Environment variables are the lowest common denominator, because they're supported no matter the operating system or application.</span></span>

<span data-ttu-id="b93a8-320">Yerleşik Kubernetes gizliliklerini kullanmanın bir alternatifi, Kubernetes içindeki Azure Key Vault gizli dizilerle erişimdir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-320">An alternative to use the built-in Kubernetes secrets is to access the secrets in Azure Key Vault from within Kubernetes.</span></span> <span data-ttu-id="b93a8-321">Bunu yapmanın en kolay yolu, yük gizli dizilerini bulmak için kapsayıcıya bir RBAC rolü atamak.</span><span class="sxs-lookup"><span data-stu-id="b93a8-321">The simplest way to do this is to assign an RBAC role to the container looking to load secrets.</span></span> <span data-ttu-id="b93a8-322">Uygulama daha sonra gizli dizileri erişmek için Azure Key Vault API 'Lerini kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-322">The application can then use the Azure Key Vault APIs to access the secrets.</span></span> <span data-ttu-id="b93a8-323">Ancak, bu yaklaşım kodda değişiklik yapılmasını gerektirir ve ortam değişkenlerini kullanma örüntüsünün izmez.</span><span class="sxs-lookup"><span data-stu-id="b93a8-323">However, this approach requires modifications to the code and doesn't follow the pattern of using environment variables.</span></span> <span data-ttu-id="b93a8-324">Bunun yerine, [Azure Key Vault Injector](https://mrdevops.io/introducing-azure-key-vault-to-kubernetes-931f82364354)kullanımı aracılığıyla bir kapsayıcıya değer eklemek mümkündür.</span><span class="sxs-lookup"><span data-stu-id="b93a8-324">Instead, it's possible to inject values into a container through the use of the [Azure Key Vault Injector](https://mrdevops.io/introducing-azure-key-vault-to-kubernetes-931f82364354).</span></span> <span data-ttu-id="b93a8-325">Bu yaklaşım aslında doğrudan Kubernetes gizli dizileri kullanmaktan daha güvenlidir, çünkü bunlar kümedeki kullanıcılar tarafından erişilebilirler.</span><span class="sxs-lookup"><span data-stu-id="b93a8-325">This approach is actually more secure than using the Kubernetes secrets directly, as they can be accessed by users on the cluster.</span></span>

## <a name="encryption-in-transit-and-at-rest"></a><span data-ttu-id="b93a8-326">Aktarım ve bekleme sırasında şifreleme</span><span class="sxs-lookup"><span data-stu-id="b93a8-326">Encryption in transit and at rest</span></span>

<span data-ttu-id="b93a8-327">Verilerin güvende tutulması, disk üzerinde veya farklı hizmetler arasında geçiş yapılıp yapılmayacağını önemli hale gelir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-327">Keeping data safe is important whether it's on disk or transiting between various different services.</span></span> <span data-ttu-id="b93a8-328">Verileri sızma göre tutmanın en etkili yolu, başkalarının tarafından kolayca okuyameyen bir biçimde şifrelemedir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-328">The most effective way to keep data from leaking is to encrypt it into a format that can't be easily read by others.</span></span> <span data-ttu-id="b93a8-329">Azure, çok çeşitli şifreleme seçeneklerini destekler.</span><span class="sxs-lookup"><span data-stu-id="b93a8-329">Azure supports a wide range of encryption options.</span></span>

### <a name="in-transit"></a><span data-ttu-id="b93a8-330">Yoldaki</span><span class="sxs-lookup"><span data-stu-id="b93a8-330">In transit</span></span>

<span data-ttu-id="b93a8-331">Azure 'da ağ üzerindeki trafiği şifrelemek için birkaç yol vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-331">There are several ways to encrypt traffic on the network in Azure.</span></span> <span data-ttu-id="b93a8-332">Azure hizmetlerine erişim, genellikle Aktarım Katmanı Güvenliği (TLS) kullanan bağlantılar üzerinden yapılır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-332">The access to Azure services is typically done over connections that use Transport Layer Security (TLS).</span></span> <span data-ttu-id="b93a8-333">Örneğin, Azure API 'Lerine yönelik tüm bağlantılar TLS bağlantısı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-333">For instance, all the connections to the Azure APIs require TLS connections.</span></span> <span data-ttu-id="b93a8-334">Aynı şekilde, Azure Storage 'daki uç noktalara yapılan bağlantılar yalnızca TLS şifreli bağlantı üzerinden çalışacak şekilde kısıtlanabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-334">Equally, connections to endpoints in Azure storage can be restricted to work only over TLS encrypted connections.</span></span>

<span data-ttu-id="b93a8-335">TLS karmaşık bir protokoldür ve güvenlik sağlamak için bağlantının TLS kullandığını bilmek yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-335">TLS is a complicated protocol and simply knowing that the connection is using TLS isn't sufficient to ensure security.</span></span> <span data-ttu-id="b93a8-336">Örneğin, TLS 1,0, zaman içinde güvensiz ve TLS 1,1 çok daha iyi değildir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-336">For instance, TLS 1.0 is chronically insecure, and TLS 1.1 isn't much better.</span></span> <span data-ttu-id="b93a8-337">TLS sürümleri içinde bile, bağlantıların şifresinin çözülmesi daha kolay hale getirmek için çeşitli ayarlar vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-337">Even within the versions of TLS, there are various settings that can make the connections easier to decrypt.</span></span> <span data-ttu-id="b93a8-338">En iyi eylem, sunucu bağlantısının güncel ve iyi yapılandırılmış protokoller kullanıp kullanmamakta olup olmadığını kontrol etmek ve göz atın.</span><span class="sxs-lookup"><span data-stu-id="b93a8-338">The best course of action is to check and see if the server connection is using up-to-date and well configured protocols.</span></span> 

<span data-ttu-id="b93a8-339">Bu denetim, SSL Labs SSL sunucu testi gibi bir dış hizmet tarafından yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-339">This check can be done by an external service such as SSL labs' SSL Server Test.</span></span> <span data-ttu-id="b93a8-340">Tipik bir Azure uç noktasına karşı bir test çalıştırması, bu durumda Service Bus uç noktası, bir için neredeyse mükemmel bir puan verir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-340">A test run against a typical Azure endpoint, in this case a service bus endpoint, yields a near perfect score of A.</span></span>

<span data-ttu-id="b93a8-341">Azure SQL veritabanları gibi hizmetler de verilerin gizli kalmasını sağlamak için TLS şifrelemesi kullanır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-341">Even services like Azure SQL databases use TLS encryption to keep data hidden.</span></span> <span data-ttu-id="b93a8-342">TLS kullanarak aktarım sırasında verilerin şifrelenmesi hakkında ilgi çekici bir bölüm, Microsoft 'un TLS çalıştıran bilgisayarlar arasındaki bağlantıyı dinlemek mümkün değildir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-342">The interesting part about encrypting the data in transit using TLS is that it isn't possible, even for Microsoft, to listen in on the connection between computers running TLS.</span></span> <span data-ttu-id="b93a8-343">Bu, şirketlerin Microsoft 'un doğru ve hatta standart saldırgandan daha fazla kaynağa sahip bir durum aktörinin risk altında olabileceğini karşılayan şirketler için rahatlığını sağlamalıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-343">This should provide comfort for companies concerned that their data may be at risk from Microsoft proper or even a state actor with more resources than the standard attacker.</span></span> 

<span data-ttu-id="b93a8-344">![Şekil 10-5 Service Bus uç noktası için bir puanı gösteren SSL Labs raporu. **Şekil 10-5**. ](./media/ssl-report.png)
</span><span class="sxs-lookup"><span data-stu-id="b93a8-344">![Figure 10-5 SSL labs report showing a score of A for a Service Bus endpoint.](./media/ssl-report.png)
**Figure 10-5**.</span></span> <span data-ttu-id="b93a8-345">Service Bus uç noktası için bir puanı gösteren SSL Labs raporu.</span><span class="sxs-lookup"><span data-stu-id="b93a8-345">SSL labs report showing a score of A for a Service Bus endpoint.</span></span>

<span data-ttu-id="b93a8-346">Bu şifreleme düzeyi her zaman yeterli olmayacaksa da, Azure TLS bağlantılarının oldukça güvenli hale getirilmesine güvenmelidir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-346">While this level of encryption isn't going to be sufficient for all time, it should inspire confidence that Azure TLS connections are quite secure.</span></span> <span data-ttu-id="b93a8-347">Azure, şifreleme artdığı için güvenlik standartlarını gelişmeye devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-347">Azure will continue to evolve its security standards as encryption improves.</span></span> <span data-ttu-id="b93a8-348">Güvenlik standartlarını izlerken ve Azure 'ı geliştirdiklerinde güncelleştiren bir kişi olduğunu bilmek iyi bir deneyimdir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-348">It's nice to know that there's somebody watching the security standards and updating Azure as they improve.</span></span>

### <a name="at-rest"></a><span data-ttu-id="b93a8-349">Bekleyen</span><span class="sxs-lookup"><span data-stu-id="b93a8-349">At rest</span></span>

<span data-ttu-id="b93a8-350">Herhangi bir uygulamada, verilerin diskte oturduğu birçok yer vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-350">In any application, there are a number of places where data rests on disk.</span></span> <span data-ttu-id="b93a8-351">Uygulama kodunun kendisi bir depolama mekanizmasından yüklenir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-351">The application code itself is loaded from some storage mechanism.</span></span> <span data-ttu-id="b93a8-352">Çoğu uygulama SQL Server, Cosmos DB, hatta başaramayabiliriz Price-verimli tablo depolaması gibi bazı veritabanı türlerini de kullanır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-352">Most applications also use some kind of database such as SQL Server, Cosmos DB, or even the amazingly price-efficient Table Storage.</span></span> <span data-ttu-id="b93a8-353">Bu veritabanlarının hepsi, uygun izinlere sahip uygulamalardan hiç kimsenin verilerinizi okuyabileceğinden emin olmak için yoğun olarak şifrelenmiş depolama kullanır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-353">These databases all use heavily encrypted storage to ensure that nobody other than the applications with proper permissions can read your data.</span></span> <span data-ttu-id="b93a8-354">Sistem işleçleri de şifrelenmiş verileri okuyamıyorum.</span><span class="sxs-lookup"><span data-stu-id="b93a8-354">Even the system operators can't read data that has been encrypted.</span></span> <span data-ttu-id="b93a8-355">Böylece müşteriler gizli kalacağından emin olmaya devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-355">So customers can remain confident their secret information remains secret.</span></span>

### <a name="storage"></a><span data-ttu-id="b93a8-356">Depolama</span><span class="sxs-lookup"><span data-stu-id="b93a8-356">Storage</span></span>

<span data-ttu-id="b93a8-357">Azure 'un büyük bir bölümü Azure depolama altyapısıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-357">The underpinning of much of Azure is the Azure Storage engine.</span></span> <span data-ttu-id="b93a8-358">Sanal makine diskleri, Azure depolama 'nın üzerine bağlanır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-358">Virtual machine disks are mounted on top of Azure Storage.</span></span> <span data-ttu-id="b93a8-359">Azure Kubernetes Hizmetleri, kendilerini Azure Storage üzerinde barındırılan sanal makinelerde çalışır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-359">Azure Kubernetes Services run on virtual machines that, themselves, are hosted on Azure Storage.</span></span> <span data-ttu-id="b93a8-360">Azure Işlevleri uygulamaları ve Azure Container Instances gibi sunucusuz teknolojilerin yanı sıra Azure Storage 'ın parçası olan disk kalmadı.</span><span class="sxs-lookup"><span data-stu-id="b93a8-360">Even serverless technologies, such as Azure Functions Apps and Azure Container Instances, run out of disk that is part of Azure Storage.</span></span>

<span data-ttu-id="b93a8-361">Azure Storage iyi şifrelenirse, başka her şeyin de şifrelenmesi için bir temel sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-361">If Azure Storage is well encrypted, then it provides for a foundation for most everything else to also be encrypted.</span></span> <span data-ttu-id="b93a8-362">Azure depolama [,](https://docs.microsoft.com/azure/storage/common/storage-service-encryption) [fıps 140-2](https://en.wikipedia.org/wiki/FIPS_140) uyumlu [256 bit AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard)ile şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-362">Azure Storage [is encrypted](https://docs.microsoft.com/azure/storage/common/storage-service-encryption) with [FIPS 140-2](https://en.wikipedia.org/wiki/FIPS_140) compliant [256-bit AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard).</span></span> <span data-ttu-id="b93a8-363">Bu, son 20 veya bu yıla göre çok sayıda akademik bir şifreleme teknolojisi olan iyi kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-363">This is a well-regarded encryption technology having been the subject of extensive academic scrutiny over the last 20 or so years.</span></span> <span data-ttu-id="b93a8-364">Mevcut olduğunda, anahtarla ilgili bilgi sahibi olmayan birisinin AES tarafından şifrelenen verileri okumasına izin veren bilinen pratik bir saldırı yoktur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-364">At present, there's no known practical attack that would allow someone without knowledge of the key to read data encrypted by AES.</span></span>

<span data-ttu-id="b93a8-365">Varsayılan olarak, Azure depolama 'yı şifrelemek için kullanılan anahtarlar Microsoft tarafından yönetilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-365">By default, the keys used for encrypting Azure Storage are managed by Microsoft.</span></span> <span data-ttu-id="b93a8-366">Bu anahtarlara kötü amaçlı erişimi önlemeyi önlemeye olanak sağlamak için kapsamlı korumalar vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-366">There are extensive protections in place to ensure to prevent malicious access to these keys.</span></span> <span data-ttu-id="b93a8-367">Ancak, belirli şifreleme gereksinimlerine sahip kullanıcılar, Azure Key Vault yönetilen [kendi depolama anahtarlarını da sağlayabilir](https://docs.microsoft.com/azure/storage/common/storage-encryption-keys-powershell).</span><span class="sxs-lookup"><span data-stu-id="b93a8-367">However, users with particular encryption requirements can also [provide their own storage keys](https://docs.microsoft.com/azure/storage/common/storage-encryption-keys-powershell), that are managed in Azure Key Vault.</span></span> <span data-ttu-id="b93a8-368">Bu anahtarlar herhangi bir zamanda iptal edilebilir, bu da depolama hesabının içeriğini erişilemez kullanarak etkin bir şekilde işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-368">These keys can be revoked at any time, which would effectively render the contents of the Storage account using them inaccessible.</span></span>

<span data-ttu-id="b93a8-369">Sanal makineler şifreli depolama kullanır, ancak Windows üzerinde BitLocker veya Linux üzerinde DM-Crypt gibi teknolojileri kullanarak başka bir şifreleme katmanı sağlamak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="b93a8-369">Virtual machines use encrypted storage, but it's possible to provide another layer of encryption by using technologies like BitLocker on Windows or DM-Crypt on Linux.</span></span> <span data-ttu-id="b93a8-370">Bu teknolojiler, disk görüntüsünün depolama alanı dışına sızmış olsa bile, okunması olanaksız kalacağından, bu teknolojiler anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-370">These technologies mean that even if the disk image was leaked off of storage, it would remain near impossible to read it.</span></span>

### <a name="azure-sql"></a><span data-ttu-id="b93a8-371">Azure SQL</span><span class="sxs-lookup"><span data-stu-id="b93a8-371">Azure SQL</span></span>

<span data-ttu-id="b93a8-372">Azure SQL 'de barındırılan veritabanları, verilerin şifreli kalmasını sağlamak için [Saydam veri şifrelemesi (TDE)](/sql/relational-databases/security/encryption/transparent-data-encryption) adlı bir teknoloji kullanır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-372">Databases hosted on Azure SQL use a technology called [Transparent Data Encryption (TDE)](/sql/relational-databases/security/encryption/transparent-data-encryption) to ensure data remains encrypted.</span></span> <span data-ttu-id="b93a8-373">Varsayılan olarak, yeni oluşturulan tüm SQL veritabanlarında etkindir, ancak eski veritabanları için el ile etkinleştirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-373">It's enabled by default on all newly created SQL databases, but must be enabled manually for legacy databases.</span></span> <span data-ttu-id="b93a8-374">TDE gerçek zamanlı şifrelemeyi ve şifre çözmeyi yalnızca veritabanının değil, ayrıca yedeklemeleri ve işlem günlüklerini yürütür.</span><span class="sxs-lookup"><span data-stu-id="b93a8-374">TDE executes real-time encryption and decryption of not just the database, but also the backups and transaction logs.</span></span>

<span data-ttu-id="b93a8-375">Şifreleme parametreleri `master` veritabanında depolanır ve başlangıçta kalan işlemler için bellekte okur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-375">The encryption parameters are stored in the `master` database and, on startup, are read into memory for the remaining operations.</span></span> <span data-ttu-id="b93a8-376">Bu, `master` veritabanının şifrelenmemiş kalması gerektiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-376">This means that the `master` database must remain unencrypted.</span></span> <span data-ttu-id="b93a8-377">Gerçek anahtar Microsoft tarafından yönetilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-377">The actual key is managed by Microsoft.</span></span> <span data-ttu-id="b93a8-378">Ancak, exacting güvenlik gereksinimleri olan kullanıcılar, Azure depolama için yapılan Key Vault aynı şekilde kendi anahtarını sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-378">However, users with exacting security requirements may provide their own key in Key Vault in much the same way as is done for Azure Storage.</span></span> <span data-ttu-id="b93a8-379">Key Vault, anahtar döndürme ve iptal etme gibi hizmetleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-379">The Key Vault provides for such services as key rotation and revocation.</span></span>

<span data-ttu-id="b93a8-380">TDS 'in "saydam" bölümü, şifreli bir veritabanını kullanmak için gerekli olan istemci değişikliklerinin olmadığını bulmanızdan geliyor.</span><span class="sxs-lookup"><span data-stu-id="b93a8-380">The "Transparent" part of TDS comes from the fact that there aren't client changes needed to use an encrypted database.</span></span> <span data-ttu-id="b93a8-381">Bu yaklaşım iyi güvenlik sağlarken, veritabanı parolasının sızması, kullanıcıların verilerin şifresini çözebilmesi için yeterli değildir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-381">While this approach provides for good security, leaking the database password is enough for users to be able to decrypt the data.</span></span> <span data-ttu-id="b93a8-382">Bir veritabanındaki tek tek sütunları veya tabloları şifreleyen başka bir yaklaşım vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-382">There's another approach that encrypts individual columns or tables in a database.</span></span> <span data-ttu-id="b93a8-383">[Always Encrypted](https://docs.microsoft.com/azure/sql-database/sql-database-always-encrypted-azure-key-vault) , şifreli verilerin veritabanının içinde düz metin olarak görünmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-383">[Always Encrypted](https://docs.microsoft.com/azure/sql-database/sql-database-always-encrypted-azure-key-vault) ensures that at no point the encrypted data appears in plain text inside the database.</span></span>

<span data-ttu-id="b93a8-384">Bu şifreleme katmanını ayarlamanın, şifreleme sıralamasını seçmek ve ilişkili anahtarların depolanacağı Key Vault nerede olması için SQL Server Management Studio bir sihirbaz aracılığıyla çalıştırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-384">Setting up this tier of encryption requires running through a wizard in SQL Server Management Studio to select the sort of encryption and where in Key Vault to store the associated keys.</span></span> 

<span data-ttu-id="b93a8-385">![Şekil 10-6 Always Encrypted](./media/always-encrypted.png)
**Şekil 10-6**kullanılarak şifrelenecek tablodaki sütunları seçme.</span><span class="sxs-lookup"><span data-stu-id="b93a8-385">![Figure 10-6 Selecting columns in a table to be encrypted using Always Encrypted](./media/always-encrypted.png)
**Figure 10-6**.</span></span> <span data-ttu-id="b93a8-386">Always Encrypted kullanılarak şifrelenecek tablodaki sütunları seçme.</span><span class="sxs-lookup"><span data-stu-id="b93a8-386">Selecting columns in a table to be encrypted using Always Encrypted.</span></span>

<span data-ttu-id="b93a8-387">Bu şifrelenmiş sütunlardan bilgileri okuyan istemci uygulamalarının, şifrelenmiş verileri okumak için özel uygulamalar yapması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-387">Client applications that read information from these encrypted columns need to make special allowances to read encrypted data.</span></span> <span data-ttu-id="b93a8-388">Bağlantı dizelerinin ile `Column Encryption Setting=Enabled` güncelleştirilmeleri gerekir ve Key Vault istemci kimlik bilgileri alınmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-388">Connection strings need to be updated with `Column Encryption Setting=Enabled` and client credentials must be retrieved from the Key Vault.</span></span> <span data-ttu-id="b93a8-389">SQL Server istemci daha sonra sütun şifreleme anahtarlarıyla öncelikli olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-389">The SQL Server client must then be primed with the column encryption keys.</span></span> <span data-ttu-id="b93a8-390">Bu işlem yapıldıktan sonra, kalan eylemler SQL Istemcisi için standart arabirimleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-390">Once that is done, the remaining actions use the standard interfaces to SQL Client.</span></span> <span data-ttu-id="b93a8-391">Diğer bir deyişle, SQL Client üzerinde oluşturulan kaber ve Entity Framework gibi araçlar, değişiklik yapılmadan çalışmaya devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-391">That is, tools like Dapper and Entity Framework, which are built on top of SQL Client, will continue to work without changes.</span></span> <span data-ttu-id="b93a8-392">Always Encrypted, her dilde SQL Server her bir sürücü için kullanılamayabilir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-392">Always Encrypted may not yet be available for every SQL Server driver on every language.</span></span>

<span data-ttu-id="b93a8-393">Her ikisi de istemciye özgü anahtarlarla kullanılabilecek TDE ve Always Encrypted birleşimi, en exacting şifreleme gereksinimlerinin de desteklenmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="b93a8-393">The combination of TDE and Always Encrypted, both of which can be used with client-specific keys, ensures that even the most exacting encryption requirements are supported.</span></span>

### <a name="cosmos-db"></a><span data-ttu-id="b93a8-394">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="b93a8-394">Cosmos DB</span></span>

<span data-ttu-id="b93a8-395">Cosmos DB, Microsoft tarafından Azure 'da sunulan en yeni veritabanıdır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-395">Cosmos DB is the newest database provided by Microsoft in Azure.</span></span> <span data-ttu-id="b93a8-396">Güvenlik ve şifreleme konusunda baştan sona oluşturulmuştur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-396">It has been built from the ground up with security and cryptography in mind.</span></span> <span data-ttu-id="b93a8-397">AES-256bit şifreleme tüm Cosmos DB veritabanları için standarttır ve devre dışı bırakılamaz.</span><span class="sxs-lookup"><span data-stu-id="b93a8-397">AES-256bit encryption is standard for all Cosmos DB databases and can't be disabled.</span></span> <span data-ttu-id="b93a8-398">İletişim için TLS 1,2 gereksinimiyle birlikte kullanıldığında, tüm depolama çözümü şifrelenir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-398">Coupled with the TLS 1.2 requirement for communication, the entire storage solution is encrypted.</span></span>

<span data-ttu-id="b93a8-399">![Şekil 10-7 Cosmos DB](./media/cosmos-encryption.png)
**Şekil 10-7**' deki veri şifreleme akışı.</span><span class="sxs-lookup"><span data-stu-id="b93a8-399">![Figure 10-7 The flow of data encryption within Cosmos DB](./media/cosmos-encryption.png)
**Figure 10-7**.</span></span> <span data-ttu-id="b93a8-400">Cosmos DB içindeki veri şifreleme akışı.</span><span class="sxs-lookup"><span data-stu-id="b93a8-400">The flow of data encryption within Cosmos DB.</span></span>

<span data-ttu-id="b93a8-401">Cosmos DB müşteri şifreleme anahtarları sağlamak için sağlamasa da, takım tarafından, bunun dışında PCI DSS uyumlu olduğundan emin olmak için önemli bir iş yapılır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-401">While Cosmos DB doesn't provide for supplying customer encryption keys, there has been significant work done by the team to ensure it remains PCI-DSS compliant without that.</span></span> <span data-ttu-id="b93a8-402">Cosmos DB Ayrıca Azure SQL Always Encrypted benzer bir şekilde tek sütunlu şifrelemeyi desteklemez.</span><span class="sxs-lookup"><span data-stu-id="b93a8-402">Cosmos DB also doesn't support any sort of single column encryption similar to Azure SQL's Always Encrypted yet.</span></span>

## <a name="keeping-secure"></a><span data-ttu-id="b93a8-403">Güvenli tutma</span><span class="sxs-lookup"><span data-stu-id="b93a8-403">Keeping secure</span></span>

<span data-ttu-id="b93a8-404">Azure, yüksek güvenlikli bir ürünü serbest bırakmak için gereken tüm araçlara sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-404">Azure has all the tools necessary to release a highly secure product.</span></span> <span data-ttu-id="b93a8-405">Ancak, bir zincir en zayıf bağlantı kadar güçlü olur.</span><span class="sxs-lookup"><span data-stu-id="b93a8-405">However, a chain is only as strong as its weakest link.</span></span> <span data-ttu-id="b93a8-406">Azure üzerinde dağıtılan uygulamalar uygun bir güvenlik anlayış ve iyi güvenlik denetimi ile geliştirilmemişse, zincirde zayıf bağlantı haline gelir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-406">If the applications deployed on top of Azure aren't developed with a proper security mindset and good security audits, then they become the weak link in the chain.</span></span> <span data-ttu-id="b93a8-407">Azure 'da yüklü yazılımların Azure 'un kendisi kadar güvenli olduğundan emin olmak için kullanılabilen çok sayıda harika Statik Analiz Aracı, şifreleme kitaplığı ve güvenlik uygulaması vardır.</span><span class="sxs-lookup"><span data-stu-id="b93a8-407">There are many great static analysis tools, encryption libraries, and security practices that can be used to ensure that the software installed on Azure is as secure as Azure itself.</span></span> <span data-ttu-id="b93a8-408">WhiteSource ([statik analiz araçları](https://www.whitesourcesoftware.com/), [şifreleme kitaplıkları](https://www.libressl.org/)ve [güvenlik uygulamaları](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/), LibreSSL (https://www.libressl.org/) ve [Red). Mavi-iç güvenlik Microsoft Azure](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/) testi, sırasıyla bu örneklere örnektir.</span><span class="sxs-lookup"><span data-stu-id="b93a8-408">[WhiteSource]([static analysis tools](https://www.whitesourcesoftware.com/), [encryption libraries](https://www.libressl.org/), and [security practices](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/), LibreSSL(https://www.libressl.org/) and [Red vs. Blue - Internal security penetration testing of Microsoft Azure](https://azure.microsoft.com/resources/videos/red-vs-blue-internal-security-penetration-testing-of-microsoft-azure/) are examples of that, respectively.</span></span> 

>[!div class="step-by-step"]
><span data-ttu-id="b93a8-409">[Önceki](security.md)
>[İleri](devops.md)</span><span class="sxs-lookup"><span data-stu-id="b93a8-409">[Previous](security.md)
[Next](devops.md)</span></span> <!-- Next Chapter -->
