---
title: Gözlemci Tasarım Deseni
description: .NET 'teki gözlemci tasarım düzeniyle ilgili bilgi edinin. Bu model, bir abonenin ile kaydolmasına ve bir sağlayıcıdan bildirimler almasına olanak tanır.
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- IObserver(Of T) interface
- IObservable<T> interface
- IObserver<T> interface
- IObservable(Of T) interface
- observer design pattern [.NET Framework]
ms.assetid: 3680171f-f522-453c-aa4a-54f755a78f88
ms.openlocfilehash: 80dac36199dd13abeab295d4b53a52615e7ae625
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90559167"
---
# <a name="observer-design-pattern"></a><span data-ttu-id="d5ff0-104">Gözlemci Tasarım Deseni</span><span class="sxs-lookup"><span data-stu-id="d5ff0-104">Observer Design Pattern</span></span>

<span data-ttu-id="d5ff0-105">Gözlemci tasarım deseninin bir abone ile kaydolmalarını ve bir sağlayıcıdan gelen bildirimleri almasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-105">The observer design pattern enables a subscriber to register with and receive notifications from a provider.</span></span> <span data-ttu-id="d5ff0-106">Gönderim tabanlı bildirim gerektiren tüm senaryolar için uygundur.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-106">It is suitable for any scenario that requires push-based notification.</span></span> <span data-ttu-id="d5ff0-107">Bu model, bir *sağlayıcıyı* ( *Konu* veya *observable*olarak da bilinir) ve sıfır, bir veya daha fazla *gözlemcilerin*tanımlar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-107">The pattern defines a *provider* (also known as a *subject* or an *observable*) and zero, one, or more *observers*.</span></span> <span data-ttu-id="d5ff0-108">Gözlemcilerin sağlayıcıya kaydoldu ve önceden tanımlanmış bir koşul, olay veya durum değişikliği gerçekleştiğinde sağlayıcı, yöntemlerinden birini çağırarak tüm gözlemcilerin 'ı otomatik olarak bilgilendirir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-108">Observers register with the provider, and whenever a predefined condition, event, or state change occurs, the provider automatically notifies all observers by calling one of their methods.</span></span> <span data-ttu-id="d5ff0-109">Bu yöntem çağrısında sağlayıcı, güncel durum bilgilerini observers 'a de verebilir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-109">In this method call, the provider can also provide current state information to observers.</span></span> <span data-ttu-id="d5ff0-110">.NET Framework, gözlemci tasarım deseninin genel ve arabirimler uygulanarak uygulanması gerekir <xref:System.IObservable%601?displayProperty=nameWithType> <xref:System.IObserver%601?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-110">In the .NET Framework, the observer design pattern is applied by implementing the generic <xref:System.IObservable%601?displayProperty=nameWithType> and <xref:System.IObserver%601?displayProperty=nameWithType> interfaces.</span></span> <span data-ttu-id="d5ff0-111">Genel tür parametresi, bildirim bilgilerini sağlayan türü temsil eder.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-111">The generic type parameter represents the type that provides notification information.</span></span>

## <a name="applying-the-pattern"></a><span data-ttu-id="d5ff0-112">Desenler uygulanıyor</span><span class="sxs-lookup"><span data-stu-id="d5ff0-112">Applying the Pattern</span></span>

<span data-ttu-id="d5ff0-113">Bir veri kaynağı (iş mantığı) katmanı ve Kullanıcı arabirimi (görüntü) katmanı gibi iki farklı bileşen veya uygulama katmanı arasında temiz ayrımı desteklediğinden, gözlemci tasarım deseninin dağıtılan gönderim tabanlı bildirimler için uygun olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-113">The observer design pattern is suitable for distributed push-based notifications, because it supports a clean separation between two different components or application layers, such as a data source (business logic) layer and a user interface (display) layer.</span></span> <span data-ttu-id="d5ff0-114">Bir sağlayıcı, istemcilerini geçerli bilgilerle sağlamak için geri çağırmaları kullandığında, bu model uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-114">The pattern can be implemented whenever a provider uses callbacks to supply its clients with current information.</span></span>

<span data-ttu-id="d5ff0-115">Düzenin uygulanması için şunları sağlamanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="d5ff0-115">Implementing the pattern requires that you provide the following:</span></span>

- <span data-ttu-id="d5ff0-116">Gözlemi sunucularına bildirim gönderen nesnesi olan bir sağlayıcı veya konu.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-116">A provider or subject, which is the object that sends notifications to observers.</span></span> <span data-ttu-id="d5ff0-117">Sağlayıcı, arabirimini uygulayan bir sınıf veya yapıdır <xref:System.IObservable%601> .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-117">A provider is a class or structure that implements the <xref:System.IObservable%601> interface.</span></span> <span data-ttu-id="d5ff0-118">Sağlayıcı, <xref:System.IObservable%601.Subscribe%2A?displayProperty=nameWithType> sağlayıcıdan bildirim almak isteyen gözlemcilerin tarafından çağrılan tek bir yöntemi uygulamalıdır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-118">The provider must implement a single method, <xref:System.IObservable%601.Subscribe%2A?displayProperty=nameWithType>, which is called by observers that wish to receive notifications from the provider.</span></span>

- <span data-ttu-id="d5ff0-119">Sağlayıcıdan gelen bildirimleri alan bir nesne olan gözlemci.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-119">An observer, which is an object that receives notifications from a provider.</span></span> <span data-ttu-id="d5ff0-120">Gözlemci, arabirimini uygulayan bir sınıf veya yapıdır <xref:System.IObserver%601> .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-120">An observer is a class or structure that implements the <xref:System.IObserver%601> interface.</span></span> <span data-ttu-id="d5ff0-121">Gözlemci, hepsi sağlayıcı tarafından çağrılan üç yöntemi gerçekleştirmelidir:</span><span class="sxs-lookup"><span data-stu-id="d5ff0-121">The observer must implement three methods, all of which are called by the provider:</span></span>

  - <span data-ttu-id="d5ff0-122"><xref:System.IObserver%601.OnNext%2A?displayProperty=nameWithType>Yeni veya güncel bilgilerle gözlemci sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-122"><xref:System.IObserver%601.OnNext%2A?displayProperty=nameWithType>, which supplies the observer with new or current information.</span></span>

  - <span data-ttu-id="d5ff0-123"><xref:System.IObserver%601.OnError%2A?displayProperty=nameWithType>, gözlemci bir hata oluştuğunu bilgilendirir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-123"><xref:System.IObserver%601.OnError%2A?displayProperty=nameWithType>, which informs the observer that an error has occurred.</span></span>

  - <span data-ttu-id="d5ff0-124"><xref:System.IObserver%601.OnCompleted%2A?displayProperty=nameWithType>, sağlayıcının bildirimleri göndermeyi bitirdiğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-124"><xref:System.IObserver%601.OnCompleted%2A?displayProperty=nameWithType>, which indicates that the provider has finished sending notifications.</span></span>

- <span data-ttu-id="d5ff0-125">Sağlayıcının observers 'ı izlemesine izin veren bir mekanizma.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-125">A mechanism that allows the provider to keep track of observers.</span></span> <span data-ttu-id="d5ff0-126">Genellikle, sağlayıcı, <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> bildirimlere abone olan uygulamalara başvuruları tutmak için nesnesi gibi bir kapsayıcı nesnesi kullanır <xref:System.IObserver%601> .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-126">Typically, the provider uses a container object, such as a <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> object, to hold references to the <xref:System.IObserver%601> implementations that have subscribed to notifications.</span></span> <span data-ttu-id="d5ff0-127">Bu amaçla bir depolama kapsayıcısı kullanmak, sağlayıcının sınırsız sayıda Observer 'a sıfır işlemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-127">Using a storage container for this purpose enables the provider to handle zero to an unlimited number of observers.</span></span> <span data-ttu-id="d5ff0-128">Gözlemcilerin 'ın bildirim alma sırası tanımlı değil; sağlayıcı, siparişi belirlemede herhangi bir yöntemi kullanmak ücretsizdir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-128">The order in which observers receive notifications is not defined; the provider is free to use any method to determine the order.</span></span>

- <span data-ttu-id="d5ff0-129"><xref:System.IDisposable>Sağlayıcının, bildirim tamamlandığında gözlemcilerin 'ı kaldırmasını sağlayan bir uygulama.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-129">An <xref:System.IDisposable> implementation that enables the provider to remove observers when notification is complete.</span></span> <span data-ttu-id="d5ff0-130">Observers, yönteminden uygulamaya bir başvuru alır <xref:System.IDisposable> , bu <xref:System.IObservable%601.Subscribe%2A> nedenle <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> sağlayıcının bildirimleri göndermeden önce aboneliğini kaldırmak için yöntemini çağırabilir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-130">Observers receive a reference to the <xref:System.IDisposable> implementation from the <xref:System.IObservable%601.Subscribe%2A> method, so they can also call the <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> method to unsubscribe before the provider has finished sending notifications.</span></span>

- <span data-ttu-id="d5ff0-131">Sağlayıcının observers 'a gönderdiği verileri içeren bir nesne.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-131">An object that contains the data that the provider sends to its observers.</span></span> <span data-ttu-id="d5ff0-132">Bu nesnenin türü, ve arabirimlerinin genel tür parametresine karşılık gelir <xref:System.IObservable%601> <xref:System.IObserver%601> .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-132">The type of this object corresponds to the generic type parameter of the <xref:System.IObservable%601> and <xref:System.IObserver%601> interfaces.</span></span> <span data-ttu-id="d5ff0-133">Bu nesne uygulamayla aynı olsa da <xref:System.IObservable%601> , genellikle ayrı bir tür olur.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-133">Although this object can be the same as the <xref:System.IObservable%601> implementation, most commonly it is a separate type.</span></span>

> [!NOTE]
> <span data-ttu-id="d5ff0-134">Gözlemci tasarım deseninin yanı sıra, ve arabirimleri kullanılarak oluşturulan kitaplıkları keşfetmek isteyebilirsiniz <xref:System.IObservable%601> <xref:System.IObserver%601> .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-134">In addition to implementing the observer design pattern, you may be interested in exploring libraries that are built using the <xref:System.IObservable%601> and <xref:System.IObserver%601> interfaces.</span></span> <span data-ttu-id="d5ff0-135">Örneğin, [.net Için reaktif uzantıları (RX)](/previous-versions/dotnet/reactive-extensions/hh242985(v=vs.103)) , zaman uyumsuz programlamayı desteklemek için bir dizi genişletme YÖNTEMINDEN ve LINQ standart dizisi işleçlerinden oluşur.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-135">For example, [Reactive Extensions for .NET (Rx)](/previous-versions/dotnet/reactive-extensions/hh242985(v=vs.103)) consist of a set of extension methods and LINQ standard sequence operators to support asynchronous programming.</span></span>

## <a name="implementing-the-pattern"></a><span data-ttu-id="d5ff0-136">Kalıbı uygulama</span><span class="sxs-lookup"><span data-stu-id="d5ff0-136">Implementing the Pattern</span></span>

<span data-ttu-id="d5ff0-137">Aşağıdaki örnekte, bir Havaalanı Bagaj talep bilgileri sistemi uygulamak için gözlemci tasarım deseninin kullanımı vardır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-137">The following example uses the observer design pattern to implement an airport baggage claim information system.</span></span> <span data-ttu-id="d5ff0-138">Bir `BaggageInfo` sınıf, gelen fışıklara ve her bir uçuşdan Bagaj 'nin çekme için kullanılabildiği Carousels hakkında bilgi sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-138">A `BaggageInfo` class provides information about arriving flights and the carousels where baggage from each flight is available for pickup.</span></span> <span data-ttu-id="d5ff0-139">Aşağıdaki örnekte gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-139">It is shown in the following example.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#1)]
[!code-vb[Conceptual.ObserverDesignPattern#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#1)]

<span data-ttu-id="d5ff0-140">Bir `BaggageHandler` sınıf, gelen fışıkları ve Bagaj talebi Carousels hakkında bilgi almaktan sorumludur.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-140">A `BaggageHandler` class is responsible for receiving information about arriving flights and baggage claim carousels.</span></span> <span data-ttu-id="d5ff0-141">Dahili olarak, iki koleksiyon tutar:</span><span class="sxs-lookup"><span data-stu-id="d5ff0-141">Internally, it maintains two collections:</span></span>

- <span data-ttu-id="d5ff0-142">`observers` -Güncelleştirilmiş bilgileri alacak istemciler koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-142">`observers` - A collection of clients that will receive updated information.</span></span>

- <span data-ttu-id="d5ff0-143">`flights` -Bir fışıkları ve atanan Carousels koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-143">`flights` - A collection of flights and their assigned carousels.</span></span>

<span data-ttu-id="d5ff0-144">Her iki koleksiyon <xref:System.Collections.Generic.List%601> da sınıf oluşturucusunda oluşturulan genel nesneler tarafından temsil edilir `BaggageHandler` .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-144">Both collections are represented by generic <xref:System.Collections.Generic.List%601> objects that are instantiated in the `BaggageHandler` class constructor.</span></span> <span data-ttu-id="d5ff0-145">Sınıfının kaynak kodu `BaggageHandler` Aşağıdaki örnekte gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-145">The source code for the `BaggageHandler` class is shown in the following example.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#2)]
[!code-vb[Conceptual.ObserverDesignPattern#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#2)]

<span data-ttu-id="d5ff0-146">Güncelleştirilmiş bilgileri almak isteyen istemciler `BaggageHandler.Subscribe` yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-146">Clients that wish to receive updated information call the `BaggageHandler.Subscribe` method.</span></span> <span data-ttu-id="d5ff0-147">İstemci daha önce bildirimlere abone olduysa, koleksiyona istemci uygulamasına bir başvuru <xref:System.IObserver%601> eklenir `observers` .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-147">If the client has not previously subscribed to notifications, a reference to the client's <xref:System.IObserver%601> implementation is added to the `observers` collection.</span></span>

<span data-ttu-id="d5ff0-148">Aşırı yüklenmiş `BaggageHandler.BaggageStatus` Yöntem, bir uçuşdan Bagaj 'nin kaldırılmakta olduğunu veya artık kaldırılamadığını göstermek için çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-148">The overloaded `BaggageHandler.BaggageStatus` method can be called to indicate that baggage from a flight either is being unloaded or is no longer being unloaded.</span></span> <span data-ttu-id="d5ff0-149">İlk durumda, yönteme bir uçuş numarası, uçuşın geldiği Havaalanı ve Bagaj 'nin kaldırılmakta olduğu Carusel ' i geçirilmiş olur.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-149">In the first case, the method is passed a flight number, the airport from which the flight originated, and the carousel where baggage is being unloaded.</span></span> <span data-ttu-id="d5ff0-150">İkinci durumda, yönteme yalnızca bir uçuş numarası geçirilir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-150">In the second case, the method is passed only a flight number.</span></span> <span data-ttu-id="d5ff0-151">Kaldırılmakta olan Bagaj için yöntemi, `BaggageInfo` yönteme geçirilen bilgilerin koleksiyonda mevcut olup olmadığını denetler `flights` .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-151">For baggage that is being unloaded, the method checks whether the `BaggageInfo` information passed to the method exists in the `flights` collection.</span></span> <span data-ttu-id="d5ff0-152">Değilse, yöntemi bilgileri ekler ve her bir gözlemci `OnNext` yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-152">If it does not, the method adds the information and calls each observer's `OnNext` method.</span></span> <span data-ttu-id="d5ff0-153">Bagaj 'nin artık kaldırılmayacağı fışıklarda, yöntemi bu uçuşdaki bilgilerin koleksiyonda depolanıp saklanmadığını denetler `flights` .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-153">For flights whose baggage is no longer being unloaded, the method checks whether information on that flight is stored in the `flights` collection.</span></span> <span data-ttu-id="d5ff0-154">Eğer ise, yöntemi her bir gözlemci yöntemini çağırır `OnNext` ve `BaggageInfo` nesneyi `flights` koleksiyondan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-154">If it is, the method calls each observer's `OnNext` method and removes the `BaggageInfo` object from the `flights` collection.</span></span>

<span data-ttu-id="d5ff0-155">Günün son uçuşası ve Bagaj işlendiğinde, `BaggageHandler.LastBaggageClaimed` yöntemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-155">When the last flight of the day has landed and its baggage has been processed, the `BaggageHandler.LastBaggageClaimed` method is called.</span></span> <span data-ttu-id="d5ff0-156">Bu yöntem `OnCompleted` , tüm bildirimlerin tamamlandığını göstermek için her bir gözlemci yöntemini çağırır ve sonra `observers` koleksiyonu temizler.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-156">This method calls each observer's `OnCompleted` method to indicate that all notifications have completed, and then clears the `observers` collection.</span></span>

<span data-ttu-id="d5ff0-157">Sağlayıcının <xref:System.IObservable%601.Subscribe%2A> yöntemi <xref:System.IDisposable> , gözlemcilerin 'ın Yöntem çağrılmadan önce bildirim almayı durdurmasına olanak tanıyan bir uygulama döndürür <xref:System.IObserver%601.OnCompleted%2A> .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-157">The provider's <xref:System.IObservable%601.Subscribe%2A> method returns an <xref:System.IDisposable> implementation that enables observers to stop receiving notifications before the <xref:System.IObserver%601.OnCompleted%2A> method is called.</span></span> <span data-ttu-id="d5ff0-158">Bu sınıfın kaynak kodu `Unsubscriber(Of BaggageInfo)` Aşağıdaki örnekte gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-158">The source code for this `Unsubscriber(Of BaggageInfo)` class is shown in the following example.</span></span> <span data-ttu-id="d5ff0-159">Sınıfında sınıf örneği oluşturulduğunda `BaggageHandler.Subscribe` , koleksiyona bir başvuru `observers` ve koleksiyona eklenen gözlemci başvurusu geçirilir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-159">When the class is instantiated in the `BaggageHandler.Subscribe` method, it is passed a reference to the `observers` collection and a reference to the observer that is added to the collection.</span></span> <span data-ttu-id="d5ff0-160">Bu başvurular yerel değişkenlere atanır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-160">These references are assigned to local variables.</span></span> <span data-ttu-id="d5ff0-161">Nesnenin `Dispose` yöntemi çağrıldığında, gözlemciye hala koleksiyonda mevcut olup olmadığını denetler `observers` ve varsa, gözlemci 'yi kaldırır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-161">When the object's `Dispose` method is called, it checks whether the observer still exists in the `observers` collection, and, if it does, removes the observer.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#3)]
[!code-vb[Conceptual.ObserverDesignPattern#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#3)]

<span data-ttu-id="d5ff0-162">Aşağıdaki örnek <xref:System.IObserver%601> adlı `ArrivalsMonitor` , Bagaj talep bilgilerini görüntüleyen bir temel sınıf olan adlı bir uygulama sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-162">The following example provides an <xref:System.IObserver%601> implementation named `ArrivalsMonitor`, which is a base class that displays baggage claim information.</span></span> <span data-ttu-id="d5ff0-163">Bilgiler, kaynak şehir adına göre alfabetik olarak görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-163">The information is displayed alphabetically, by the name of the originating city.</span></span> <span data-ttu-id="d5ff0-164">Yöntemleri, `ArrivalsMonitor` `overridable` (Visual Basic) veya `virtual` (C# ' de) olarak işaretlenir, bu nedenle tümü türetilmiş bir sınıf tarafından geçersiz kılınabilir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-164">The methods of `ArrivalsMonitor` are marked as `overridable` (in Visual Basic) or `virtual` (in C#), so they can all be overridden by a derived class.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/observer.cs#4)]
[!code-vb[Conceptual.ObserverDesignPattern#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/observer.vb#4)]

<span data-ttu-id="d5ff0-165">`ArrivalsMonitor`Sınıfı `Subscribe` ve `Unsubscribe` yöntemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-165">The `ArrivalsMonitor` class includes the `Subscribe` and `Unsubscribe` methods.</span></span> <span data-ttu-id="d5ff0-166">`Subscribe`Yöntemi, sınıfının <xref:System.IDisposable> çağrısı tarafından döndürülen uygulamayı <xref:System.IObservable%601.Subscribe%2A> özel bir değişkene kaydetmesine olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-166">The `Subscribe` method enables the class to save the <xref:System.IDisposable> implementation returned by the call to <xref:System.IObservable%601.Subscribe%2A> to a private variable.</span></span> <span data-ttu-id="d5ff0-167">`Unsubscribe`Yöntemi, sağlayıcının uygulamasını çağırarak, sınıfının bildirimlerden aboneliklerini kaldırma yapmasına olanak sağlar <xref:System.IDisposable.Dispose%2A> .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-167">The `Unsubscribe` method enables the class to unsubscribe from notifications by calling the provider's <xref:System.IDisposable.Dispose%2A> implementation.</span></span> <span data-ttu-id="d5ff0-168">`ArrivalsMonitor` ,, ve yöntemlerinin uygulamalarını da sağlar <xref:System.IObserver%601.OnNext%2A> <xref:System.IObserver%601.OnError%2A> <xref:System.IObserver%601.OnCompleted%2A> .</span><span class="sxs-lookup"><span data-stu-id="d5ff0-168">`ArrivalsMonitor` also provides implementations of the <xref:System.IObserver%601.OnNext%2A>, <xref:System.IObserver%601.OnError%2A>, and <xref:System.IObserver%601.OnCompleted%2A> methods.</span></span> <span data-ttu-id="d5ff0-169">Yalnızca <xref:System.IObserver%601.OnNext%2A> uygulama önemli miktarda kod içerir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-169">Only the <xref:System.IObserver%601.OnNext%2A> implementation contains a significant amount of code.</span></span> <span data-ttu-id="d5ff0-170">Yöntemi, <xref:System.Collections.Generic.List%601> gelen fışıklara ait kaynak havaalanları ve Bagaj 'nin kullanılabildiği Carousels hakkındaki bilgileri tutan özel, sıralanmış, genel bir nesne ile birlikte çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-170">The method works with a private, sorted, generic <xref:System.Collections.Generic.List%601> object that maintains information about the airports of origin for arriving flights and the carousels on which their baggage is available.</span></span> <span data-ttu-id="d5ff0-171">`BaggageHandler`Sınıf yeni bir uçuş gelişini bildirirse, <xref:System.IObserver%601.OnNext%2A> Yöntem uygulama bu uçuş hakkındaki bilgileri listeye ekler.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-171">If the `BaggageHandler` class reports a new flight arrival, the <xref:System.IObserver%601.OnNext%2A> method implementation adds information about that flight to the list.</span></span> <span data-ttu-id="d5ff0-172">Sınıf, `BaggageHandler` uçuşın Bagaj 'nin kaldırılmış olduğunu bildirirse, <xref:System.IObserver%601.OnNext%2A> yöntemi listeden bu uçuşı kaldırır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-172">If the `BaggageHandler` class reports that the flight's baggage has been unloaded, the <xref:System.IObserver%601.OnNext%2A> method removes that flight from the list.</span></span> <span data-ttu-id="d5ff0-173">Her değişiklik yapıldığında liste sıralanır ve konsola görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-173">Whenever a change is made, the list is sorted and displayed to the console.</span></span>

<span data-ttu-id="d5ff0-174">Aşağıdaki örnek, sınıfının ve sınıfının iki örneğinin örneğini oluşturan uygulama giriş noktasını içerir `BaggageHandler` `ArrivalsMonitor` ve `BaggageHandler.BaggageStatus` gelen fışıklarla ilgili bilgileri eklemek ve kaldırmak için yöntemini kullanır.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-174">The following example contains the application entry point that instantiates the `BaggageHandler` class as well as two instances of the `ArrivalsMonitor` class, and uses the `BaggageHandler.BaggageStatus` method to add and remove information about arriving flights.</span></span> <span data-ttu-id="d5ff0-175">Her durumda, gözlemcilerin güncelleştirmeleri alır ve Bagaj talep bilgilerini doğru şekilde görüntüler.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-175">In each case, the observers receive updates and correctly display baggage claim information.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/program.cs#5)]
[!code-vb[Conceptual.ObserverDesignPattern#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/module1.vb#5)]

## <a name="related-topics"></a><span data-ttu-id="d5ff0-176">İlgili Konular</span><span class="sxs-lookup"><span data-stu-id="d5ff0-176">Related Topics</span></span>

|<span data-ttu-id="d5ff0-177">Başlık</span><span class="sxs-lookup"><span data-stu-id="d5ff0-177">Title</span></span>|<span data-ttu-id="d5ff0-178">Açıklama</span><span class="sxs-lookup"><span data-stu-id="d5ff0-178">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="d5ff0-179">Gözlemci Tasarım Deseni En İyi Yöntemleri</span><span class="sxs-lookup"><span data-stu-id="d5ff0-179">Observer Design Pattern Best Practices</span></span>](observer-design-pattern-best-practices.md)|<span data-ttu-id="d5ff0-180">Gözlemci tasarım modelini uygulayan uygulamalar geliştirirken benimsemek için en iyi uygulamaları açıklar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-180">Describes best practices to adopt when developing applications that implement the observer design pattern.</span></span>|
|[<span data-ttu-id="d5ff0-181">Nasıl yapılır: sağlayıcı uygulama</span><span class="sxs-lookup"><span data-stu-id="d5ff0-181">How to: Implement a Provider</span></span>](how-to-implement-a-provider.md)|<span data-ttu-id="d5ff0-182">Bir sıcaklık izleme uygulaması için bir sağlayıcının adım adım uygulamasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-182">Provides a step-by-step implementation of a provider for a temperature monitoring application.</span></span>|
|[<span data-ttu-id="d5ff0-183">Nasıl yapılır: gözlemci uygulama</span><span class="sxs-lookup"><span data-stu-id="d5ff0-183">How to: Implement an Observer</span></span>](how-to-implement-an-observer.md)|<span data-ttu-id="d5ff0-184">Bir ısı izleme uygulaması için gözlemci için adım adım bir uygulama sağlar.</span><span class="sxs-lookup"><span data-stu-id="d5ff0-184">Provides a step-by-step implementation of an observer for a temperature monitoring application.</span></span>|
